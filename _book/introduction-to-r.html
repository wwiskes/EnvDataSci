<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>2 Introduction to R | Introduction to Environmental Data Science</title>
  <meta name="description" content="Background, concepts and exercises for using R for environmental data science. The focus is on applying the R language and various libraries for data abstraction, transformation, data analysis, spatial data/mapping, statistical modeling, and time series, applied to environmental research. Applies exploratory data analysis methods and tidyverse approaches in R, and includes contributed chapters presenting research applications, with associated data and code packages." />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="2 Introduction to R | Introduction to Environmental Data Science" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Background, concepts and exercises for using R for environmental data science. The focus is on applying the R language and various libraries for data abstraction, transformation, data analysis, spatial data/mapping, statistical modeling, and time series, applied to environmental research. Applies exploratory data analysis methods and tidyverse approaches in R, and includes contributed chapters presenting research applications, with associated data and code packages." />
  <meta name="github-repo" content="iGISc/EnvDataSci" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="2 Introduction to R | Introduction to Environmental Data Science" />
  
  <meta name="twitter:description" content="Background, concepts and exercises for using R for environmental data science. The focus is on applying the R language and various libraries for data abstraction, transformation, data analysis, spatial data/mapping, statistical modeling, and time series, applied to environmental research. Applies exploratory data analysis methods and tidyverse approaches in R, and includes contributed chapters presenting research applications, with associated data and code packages." />
  



<meta name="date" content="2021-05-23" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="index.html"/>
<link rel="next" href="data-abstraction.html"/>
<script src="libs/header-attrs-2.5/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/anchor-sections-1.0/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0/anchor-sections.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />
<script src="libs/htmlwidgets-1.5.2/htmlwidgets.js"></script>
<link href="libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet" />
<script src="libs/datatables-binding-0.18/datatables.js"></script>
<link href="libs/dt-core-1.10.20/css/jquery.dataTables.min.css" rel="stylesheet" />
<link href="libs/dt-core-1.10.20/css/jquery.dataTables.extra.css" rel="stylesheet" />
<script src="libs/dt-core-1.10.20/js/jquery.dataTables.min.js"></script>
<link href="libs/crosstalk-1.1.0.1/css/crosstalk.css" rel="stylesheet" />
<script src="libs/crosstalk-1.1.0.1/js/crosstalk.min.js"></script>
<link href="libs/leaflet-1.3.1/leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-1.3.1/leaflet.js"></script>
<link href="libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet" />
<script src="libs/Proj4Leaflet-1.0.1/proj4-compressed.js"></script>
<script src="libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script>
<link href="libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-binding-2.0.3/leaflet.js"></script>
<script src="libs/leaflet-providers-1.9.0/leaflet-providers_1.9.0.js"></script>
<script src="libs/leaflet-providers-plugin-2.0.3/leaflet-providers-plugin.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Environmental Data Science</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a>
<ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#environmental-data-and-methods"><i class="fa fa-check"></i><b>1.1</b> Environmental Data and Methods</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#goals-of-this-book"><i class="fa fa-check"></i><b>1.2</b> Goals of this book</a>
<ul>
<li class="chapter" data-level="1.2.1" data-path="index.html"><a href="index.html#some-definitions"><i class="fa fa-check"></i><b>1.2.1</b> Some definitions:</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#exploratory-data-analysis"><i class="fa fa-check"></i><b>1.3</b> Exploratory Data Analysis</a></li>
<li class="chapter" data-level="1.4" data-path="index.html"><a href="index.html#software-and-data-well-need"><i class="fa fa-check"></i><b>1.4</b> Software and data we’ll need</a>
<ul>
<li class="chapter" data-level="1.4.1" data-path="index.html"><a href="index.html#data"><i class="fa fa-check"></i><b>1.4.1</b> Data</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>I R for Exploratory Data Analysis</b></span></li>
<li class="chapter" data-level="2" data-path="introduction-to-r.html"><a href="introduction-to-r.html"><i class="fa fa-check"></i><b>2</b> Introduction to R</a>
<ul>
<li class="chapter" data-level="2.1" data-path="introduction-to-r.html"><a href="introduction-to-r.html#variables"><i class="fa fa-check"></i><b>2.1</b> Variables</a></li>
<li class="chapter" data-level="2.2" data-path="introduction-to-r.html"><a href="introduction-to-r.html#functions"><i class="fa fa-check"></i><b>2.2</b> Functions</a></li>
<li class="chapter" data-level="2.3" data-path="introduction-to-r.html"><a href="introduction-to-r.html#expressions-and-statements"><i class="fa fa-check"></i><b>2.3</b> Expressions and Statements</a></li>
<li class="chapter" data-level="2.4" data-path="introduction-to-r.html"><a href="introduction-to-r.html#data-types"><i class="fa fa-check"></i><b>2.4</b> Data Types</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="introduction-to-r.html"><a href="introduction-to-r.html#integers"><i class="fa fa-check"></i><b>2.4.1</b> Integers</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="introduction-to-r.html"><a href="introduction-to-r.html#rectangular-data"><i class="fa fa-check"></i><b>2.5</b> Rectangular data</a></li>
<li class="chapter" data-level="2.6" data-path="introduction-to-r.html"><a href="introduction-to-r.html#data-structures-in-r"><i class="fa fa-check"></i><b>2.6</b> Data Structures in R</a>
<ul>
<li class="chapter" data-level="2.6.1" data-path="introduction-to-r.html"><a href="introduction-to-r.html#vectors"><i class="fa fa-check"></i><b>2.6.1</b> Vectors</a></li>
<li class="chapter" data-level="2.6.2" data-path="introduction-to-r.html"><a href="introduction-to-r.html#lists"><i class="fa fa-check"></i><b>2.6.2</b> Lists</a></li>
<li class="chapter" data-level="2.6.3" data-path="introduction-to-r.html"><a href="introduction-to-r.html#matrices"><i class="fa fa-check"></i><b>2.6.3</b> Matrices</a></li>
<li class="chapter" data-level="2.6.4" data-path="introduction-to-r.html"><a href="introduction-to-r.html#data-frames"><i class="fa fa-check"></i><b>2.6.4</b> Data frames</a></li>
<li class="chapter" data-level="2.6.5" data-path="introduction-to-r.html"><a href="introduction-to-r.html#factors"><i class="fa fa-check"></i><b>2.6.5</b> Factors</a></li>
</ul></li>
<li class="chapter" data-level="2.7" data-path="introduction-to-r.html"><a href="introduction-to-r.html#programming-scripts-in-rstudio"><i class="fa fa-check"></i><b>2.7</b> Programming scripts in RStudio</a>
<ul>
<li class="chapter" data-level="2.7.1" data-path="introduction-to-r.html"><a href="introduction-to-r.html#subsetting-with-logic"><i class="fa fa-check"></i><b>2.7.1</b> Subsetting with logic</a></li>
<li class="chapter" data-level="2.7.2" data-path="introduction-to-r.html"><a href="introduction-to-r.html#apply-functions"><i class="fa fa-check"></i><b>2.7.2</b> Apply functions</a></li>
</ul></li>
<li class="chapter" data-level="2.8" data-path="introduction-to-r.html"><a href="introduction-to-r.html#exercises"><i class="fa fa-check"></i><b>2.8</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="data-abstraction.html"><a href="data-abstraction.html"><i class="fa fa-check"></i><b>3</b> Data Abstraction</a>
<ul>
<li class="chapter" data-level="3.1" data-path="data-abstraction.html"><a href="data-abstraction.html#background-exploratory-data-analysis"><i class="fa fa-check"></i><b>3.1</b> Background: Exploratory Data Analysis</a></li>
<li class="chapter" data-level="3.2" data-path="data-abstraction.html"><a href="data-abstraction.html#the-tidyverse-and-what-well-explore-in-this-chapter"><i class="fa fa-check"></i><b>3.2</b> The Tidyverse and what we’ll explore in this chapter</a></li>
<li class="chapter" data-level="3.3" data-path="data-abstraction.html"><a href="data-abstraction.html#tibbles"><i class="fa fa-check"></i><b>3.3</b> Tibbles</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="data-abstraction.html"><a href="data-abstraction.html#read_csv-vs.-read.csv"><i class="fa fa-check"></i><b>3.3.1</b> <code>read_csv</code> vs. <code>read.csv</code></a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="data-abstraction.html"><a href="data-abstraction.html#statistical-summary-of-variables"><i class="fa fa-check"></i><b>3.4</b> Statistical summary of variables</a></li>
<li class="chapter" data-level="3.5" data-path="data-abstraction.html"><a href="data-abstraction.html#visualizing-data-with-a-tukey-box-plot"><i class="fa fa-check"></i><b>3.5</b> Visualizing data with a Tukey box plot</a></li>
<li class="chapter" data-level="3.6" data-path="data-abstraction.html"><a href="data-abstraction.html#database-operations-with-dplyr"><i class="fa fa-check"></i><b>3.6</b> Database operations with <code>dplyr</code></a>
<ul>
<li class="chapter" data-level="3.6.1" data-path="data-abstraction.html"><a href="data-abstraction.html#select-mutate-and-the-pipe"><i class="fa fa-check"></i><b>3.6.1</b> Select, mutate, and the pipe</a></li>
<li class="chapter" data-level="3.6.2" data-path="data-abstraction.html"><a href="data-abstraction.html#filter"><i class="fa fa-check"></i><b>3.6.2</b> filter</a></li>
<li class="chapter" data-level="3.6.3" data-path="data-abstraction.html"><a href="data-abstraction.html#writing-a-data-frame-to-a-csv"><i class="fa fa-check"></i><b>3.6.3</b> Writing a data frame to a csv</a></li>
<li class="chapter" data-level="3.6.4" data-path="data-abstraction.html"><a href="data-abstraction.html#summarize-by-group"><i class="fa fa-check"></i><b>3.6.4</b> Summarize by group</a></li>
<li class="chapter" data-level="3.6.5" data-path="data-abstraction.html"><a href="data-abstraction.html#count"><i class="fa fa-check"></i><b>3.6.5</b> Count</a></li>
<li class="chapter" data-level="3.6.6" data-path="data-abstraction.html"><a href="data-abstraction.html#sorting-after-summarizing"><i class="fa fa-check"></i><b>3.6.6</b> Sorting after summarizing</a></li>
</ul></li>
<li class="chapter" data-level="3.7" data-path="data-abstraction.html"><a href="data-abstraction.html#the-dot-operator"><i class="fa fa-check"></i><b>3.7</b> The dot operator</a></li>
<li class="chapter" data-level="3.8" data-path="data-abstraction.html"><a href="data-abstraction.html#exercises-1"><i class="fa fa-check"></i><b>3.8</b> Exercises</a></li>
<li class="chapter" data-level="3.9" data-path="data-abstraction.html"><a href="data-abstraction.html#string-abstraction"><i class="fa fa-check"></i><b>3.9</b> String Abstraction</a>
<ul>
<li class="chapter" data-level="3.9.1" data-path="data-abstraction.html"><a href="data-abstraction.html#detecting-matches"><i class="fa fa-check"></i><b>3.9.1</b> Detecting matches</a></li>
<li class="chapter" data-level="3.9.2" data-path="data-abstraction.html"><a href="data-abstraction.html#subsetting-strings"><i class="fa fa-check"></i><b>3.9.2</b> Subsetting Strings</a></li>
<li class="chapter" data-level="3.9.3" data-path="data-abstraction.html"><a href="data-abstraction.html#string-length"><i class="fa fa-check"></i><b>3.9.3</b> String Length</a></li>
<li class="chapter" data-level="3.9.4" data-path="data-abstraction.html"><a href="data-abstraction.html#replacing-substrings-with-other-text-mutating-strings"><i class="fa fa-check"></i><b>3.9.4</b> Replacing substrings with other text (“mutating” strings)</a></li>
<li class="chapter" data-level="3.9.5" data-path="data-abstraction.html"><a href="data-abstraction.html#concatenating-and-splitting"><i class="fa fa-check"></i><b>3.9.5</b> Concatenating and splitting</a></li>
</ul></li>
<li class="chapter" data-level="3.10" data-path="data-abstraction.html"><a href="data-abstraction.html#dates-and-times-with-lubridate"><i class="fa fa-check"></i><b>3.10</b> Dates and times with <code>lubridate</code></a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="visualization.html"><a href="visualization.html"><i class="fa fa-check"></i><b>4</b> Visualization</a>
<ul>
<li class="chapter" data-level="4.1" data-path="visualization.html"><a href="visualization.html#ggplot2"><i class="fa fa-check"></i><b>4.1</b> ggplot2</a></li>
<li class="chapter" data-level="4.2" data-path="visualization.html"><a href="visualization.html#plotting-one-variable"><i class="fa fa-check"></i><b>4.2</b> Plotting one variable</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="visualization.html"><a href="visualization.html#histogram"><i class="fa fa-check"></i><b>4.2.1</b> Histogram</a></li>
<li class="chapter" data-level="4.2.2" data-path="visualization.html"><a href="visualization.html#density-plot"><i class="fa fa-check"></i><b>4.2.2</b> Density Plot</a></li>
<li class="chapter" data-level="4.2.3" data-path="visualization.html"><a href="visualization.html#boxplot"><i class="fa fa-check"></i><b>4.2.3</b> boxplot</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="visualization.html"><a href="visualization.html#plotting-two-variables"><i class="fa fa-check"></i><b>4.3</b> Plotting two variables</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="visualization.html"><a href="visualization.html#two-continuous-variables"><i class="fa fa-check"></i><b>4.3.1</b> Two continuous variables</a></li>
<li class="chapter" data-level="4.3.2" data-path="visualization.html"><a href="visualization.html#two-variables-one-discrete"><i class="fa fa-check"></i><b>4.3.2</b> Two variables, one discrete</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="visualization.html"><a href="visualization.html#color-systems"><i class="fa fa-check"></i><b>4.4</b> Color systems</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="visualization.html"><a href="visualization.html#color-from-variable-in-aesthetics"><i class="fa fa-check"></i><b>4.4.1</b> Color from variable, in aesthetics</a></li>
<li class="chapter" data-level="4.4.2" data-path="visualization.html"><a href="visualization.html#trend-line"><i class="fa fa-check"></i><b>4.4.2</b> Trend line</a></li>
<li class="chapter" data-level="4.4.3" data-path="visualization.html"><a href="visualization.html#general-symbology"><i class="fa fa-check"></i><b>4.4.3</b> General symbology</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="visualization.html"><a href="visualization.html#titles-and-subtitles"><i class="fa fa-check"></i><b>4.5</b> Titles and subtitles</a></li>
<li class="chapter" data-level="4.6" data-path="visualization.html"><a href="visualization.html#pairs-plot"><i class="fa fa-check"></i><b>4.6</b> Pairs Plot</a></li>
<li class="chapter" data-level="4.7" data-path="visualization.html"><a href="visualization.html#exercises-2"><i class="fa fa-check"></i><b>4.7</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="data-transformation.html"><a href="data-transformation.html"><i class="fa fa-check"></i><b>5</b> Data Transformation</a>
<ul>
<li class="chapter" data-level="5.1" data-path="data-transformation.html"><a href="data-transformation.html#data-joins"><i class="fa fa-check"></i><b>5.1</b> Data joins</a></li>
<li class="chapter" data-level="5.2" data-path="data-transformation.html"><a href="data-transformation.html#set-operations"><i class="fa fa-check"></i><b>5.2</b> Set Operations</a></li>
<li class="chapter" data-level="5.3" data-path="data-transformation.html"><a href="data-transformation.html#binding-rows-and-columns"><i class="fa fa-check"></i><b>5.3</b> Binding Rows and Columns</a></li>
<li class="chapter" data-level="5.4" data-path="data-transformation.html"><a href="data-transformation.html#pivotting-data-frames"><i class="fa fa-check"></i><b>5.4</b> Pivotting data frames</a></li>
</ul></li>
<li class="part"><span><b>II Spatial</b></span></li>
<li class="chapter" data-level="6" data-path="spatial-data-and-maps.html"><a href="spatial-data-and-maps.html"><i class="fa fa-check"></i><b>6</b> Spatial Data and Maps</a>
<ul>
<li class="chapter" data-level="6.1" data-path="spatial-data-and-maps.html"><a href="spatial-data-and-maps.html#spatial-data"><i class="fa fa-check"></i><b>6.1</b> Spatial Data</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="spatial-data-and-maps.html"><a href="spatial-data-and-maps.html#examples-of-simple-geometry-building-in-sf"><i class="fa fa-check"></i><b>6.1.1</b> Examples of simple geometry building in sf</a></li>
<li class="chapter" data-level="6.1.2" data-path="spatial-data-and-maps.html"><a href="spatial-data-and-maps.html#building-a-mappable-sfc-from-scratch"><i class="fa fa-check"></i><b>6.1.2</b> Building a mappable sfc from scratch</a></li>
<li class="chapter" data-level="6.1.3" data-path="spatial-data-and-maps.html"><a href="spatial-data-and-maps.html#creating-features-from-shapefiles-or-tables"><i class="fa fa-check"></i><b>6.1.3</b> Creating features from shapefiles or tables</a></li>
<li class="chapter" data-level="6.1.4" data-path="spatial-data-and-maps.html"><a href="spatial-data-and-maps.html#coordinate-referencing-system"><i class="fa fa-check"></i><b>6.1.4</b> Coordinate Referencing System</a></li>
<li class="chapter" data-level="6.1.5" data-path="spatial-data-and-maps.html"><a href="spatial-data-and-maps.html#spatial-join-st_join"><i class="fa fa-check"></i><b>6.1.5</b> Spatial join <code>st_join</code></a></li>
<li class="chapter" data-level="6.1.6" data-path="spatial-data-and-maps.html"><a href="spatial-data-and-maps.html#plotting-maps-in-the-base-plot-system"><i class="fa fa-check"></i><b>6.1.6</b> Plotting maps in the base plot system</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="spatial-data-and-maps.html"><a href="spatial-data-and-maps.html#raster-gis-in-r"><i class="fa fa-check"></i><b>6.2</b> Raster GIS in R</a></li>
<li class="chapter" data-level="6.3" data-path="spatial-data-and-maps.html"><a href="spatial-data-and-maps.html#ggplot2-for-maps"><i class="fa fa-check"></i><b>6.3</b> ggplot2 for maps</a>
<ul>
<li class="chapter" data-level="6.3.1" data-path="spatial-data-and-maps.html"><a href="spatial-data-and-maps.html#rasters-in-ggplot2"><i class="fa fa-check"></i><b>6.3.1</b> Rasters in ggplot2</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="spatial-data-and-maps.html"><a href="spatial-data-and-maps.html#tmap"><i class="fa fa-check"></i><b>6.4</b> tmap</a></li>
<li class="chapter" data-level="6.5" data-path="spatial-data-and-maps.html"><a href="spatial-data-and-maps.html#interactive-maps"><i class="fa fa-check"></i><b>6.5</b> Interactive Maps</a></li>
<li class="chapter" data-level="6.6" data-path="spatial-data-and-maps.html"><a href="spatial-data-and-maps.html#exercises-3"><i class="fa fa-check"></i><b>6.6</b> Exercises</a></li>
</ul></li>
<li class="part"><span><b>III Statistics &amp; Modeling</b></span></li>
<li class="chapter" data-level="7" data-path="statistical-summaries-and-tests.html"><a href="statistical-summaries-and-tests.html"><i class="fa fa-check"></i><b>7</b> Statistical Summaries and Tests</a>
<ul>
<li class="chapter" data-level="7.1" data-path="statistical-summaries-and-tests.html"><a href="statistical-summaries-and-tests.html#goals-of-statistical-analysis"><i class="fa fa-check"></i><b>7.1</b> Goals of statistical analysis</a></li>
<li class="chapter" data-level="7.2" data-path="statistical-summaries-and-tests.html"><a href="statistical-summaries-and-tests.html#summary-statistics"><i class="fa fa-check"></i><b>7.2</b> Summary Statistics</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="statistical-summaries-and-tests.html"><a href="statistical-summaries-and-tests.html#summarize-by-group-stratifying-a-summary"><i class="fa fa-check"></i><b>7.2.1</b> Summarize by group: <em>stratifying a summary</em></a></li>
<li class="chapter" data-level="7.2.2" data-path="statistical-summaries-and-tests.html"><a href="statistical-summaries-and-tests.html#boxplot-for-visualizing-distributions-by-group"><i class="fa fa-check"></i><b>7.2.2</b> Boxplot for visualizing distributions by group</a></li>
<li class="chapter" data-level="7.2.3" data-path="statistical-summaries-and-tests.html"><a href="statistical-summaries-and-tests.html#generating-pseudorandom-numbers"><i class="fa fa-check"></i><b>7.2.3</b> Generating pseudorandom numbers</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="statistical-summaries-and-tests.html"><a href="statistical-summaries-and-tests.html#statistical-tests"><i class="fa fa-check"></i><b>7.3</b> Statistical tests</a>
<ul>
<li class="chapter" data-level="7.3.1" data-path="statistical-summaries-and-tests.html"><a href="statistical-summaries-and-tests.html#comparing-samples-and-groupings"><i class="fa fa-check"></i><b>7.3.1</b> Comparing samples and groupings</a></li>
<li class="chapter" data-level="7.3.2" data-path="statistical-summaries-and-tests.html"><a href="statistical-summaries-and-tests.html#correlation"><i class="fa fa-check"></i><b>7.3.2</b> Correlation</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="modeling-in-r.html"><a href="modeling-in-r.html"><i class="fa fa-check"></i><b>8</b> Modeling in R</a>
<ul>
<li class="chapter" data-level="8.1" data-path="modeling-in-r.html"><a href="modeling-in-r.html#some-common-statistical-models"><i class="fa fa-check"></i><b>8.1</b> Some common statistical models</a>
<ul>
<li class="chapter" data-level="8.1.1" data-path="modeling-in-r.html"><a href="modeling-in-r.html#analysis-of-covariance"><i class="fa fa-check"></i><b>8.1.1</b> Analysis of Covariance</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="modeling-in-r.html"><a href="modeling-in-r.html#generalized-linear-model-glm"><i class="fa fa-check"></i><b>8.2</b> Generalized Linear Model (GLM)</a></li>
<li class="chapter" data-level="8.3" data-path="modeling-in-r.html"><a href="modeling-in-r.html#models-employing-machine-learning"><i class="fa fa-check"></i><b>8.3</b> Models Employing Machine Learning</a></li>
<li class="chapter" data-level="8.4" data-path="modeling-in-r.html"><a href="modeling-in-r.html#spatial-statistical-analysis"><i class="fa fa-check"></i><b>8.4</b> Spatial Statistical Analysis</a>
<ul>
<li class="chapter" data-level="8.4.1" data-path="modeling-in-r.html"><a href="modeling-in-r.html#spatial-autocorrelation"><i class="fa fa-check"></i><b>8.4.1</b> Spatial Autocorrelation</a></li>
<li class="chapter" data-level="8.4.2" data-path="modeling-in-r.html"><a href="modeling-in-r.html#mapping-residuals"><i class="fa fa-check"></i><b>8.4.2</b> Mapping Residuals</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>IV Time Series</b></span></li>
<li class="chapter" data-level="9" data-path="time-series-visualization-analysis.html"><a href="time-series-visualization-analysis.html"><i class="fa fa-check"></i><b>9</b> Time Series Visualization &amp; Analysis</a>
<ul>
<li class="chapter" data-level="9.1" data-path="time-series-visualization-analysis.html"><a href="time-series-visualization-analysis.html#creation-of-time-series-ts-data"><i class="fa fa-check"></i><b>9.1</b> Creation of time series (ts) data</a>
<ul>
<li class="chapter" data-level="9.1.1" data-path="time-series-visualization-analysis.html"><a href="time-series-visualization-analysis.html#frequency-setting"><i class="fa fa-check"></i><b>9.1.1</b> frequency setting</a></li>
<li class="chapter" data-level="9.1.2" data-path="time-series-visualization-analysis.html"><a href="time-series-visualization-analysis.html#data-logger-data-from-marble-mountains-resurgence"><i class="fa fa-check"></i><b>9.1.2</b> Data logger data from Marble Mountains resurgence</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="time-series-visualization-analysis.html"><a href="time-series-visualization-analysis.html#data-smoothing-methods"><i class="fa fa-check"></i><b>9.2</b> Data smoothing methods</a>
<ul>
<li class="chapter" data-level="9.2.1" data-path="time-series-visualization-analysis.html"><a href="time-series-visualization-analysis.html#moving-average-ma"><i class="fa fa-check"></i><b>9.2.1</b> moving average (ma)</a></li>
<li class="chapter" data-level="9.2.2" data-path="time-series-visualization-analysis.html"><a href="time-series-visualization-analysis.html#loess-local-regression-smoothing"><i class="fa fa-check"></i><b>9.2.2</b> loess (local regression) smoothing</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="time-series-visualization-analysis.html"><a href="time-series-visualization-analysis.html#decomposing-time-series"><i class="fa fa-check"></i><b>9.3</b> Decomposing time series</a>
<ul>
<li class="chapter" data-level="9.3.1" data-path="time-series-visualization-analysis.html"><a href="time-series-visualization-analysis.html#lag-regression"><i class="fa fa-check"></i><b>9.3.1</b> lag regression</a></li>
<li class="chapter" data-level="9.3.2" data-path="time-series-visualization-analysis.html"><a href="time-series-visualization-analysis.html#ensemble-average"><i class="fa fa-check"></i><b>9.3.2</b> Ensemble Average</a></li>
<li class="chapter" data-level="9.3.3" data-path="time-series-visualization-analysis.html"><a href="time-series-visualization-analysis.html#julian-dates"><i class="fa fa-check"></i><b>9.3.3</b> Julian Dates</a></li>
</ul></li>
<li class="chapter" data-level="9.4" data-path="time-series-visualization-analysis.html"><a href="time-series-visualization-analysis.html#learning-more-about-time-series-in-r"><i class="fa fa-check"></i><b>9.4</b> Learning more about time series in R</a></li>
</ul></li>
<li class="part"><span><b>V Communication &amp; Special Topics</b></span></li>
<li class="chapter" data-level="10" data-path="communication.html"><a href="communication.html"><i class="fa fa-check"></i><b>10</b> Communication</a></li>
<li class="chapter" data-level="" data-path="appendix-building-a-data-package-for-github.html"><a href="appendix-building-a-data-package-for-github.html"><i class="fa fa-check"></i>Appendix: Building a Data Package for GitHub</a>
<ul>
<li><a href="appendix-building-a-data-package-for-github.html#rda-files"><code>rda</code> files</a>
<ul>
<li><a href="appendix-building-a-data-package-for-github.html#usethisuse_data"><code>usethis::use_data()</code></a></li>
<li><a href="appendix-building-a-data-package-for-github.html#usethiscreate_package"><code>usethis::create_package()</code></a></li>
<li><a href="appendix-building-a-data-package-for-github.html#devtoolsdocument"><code>devtools::document()</code></a></li>
</ul></li>
<li class="chapter" data-level="" data-path="appendix-building-a-data-package-for-github.html"><a href="appendix-building-a-data-package-for-github.html#raw-data"><i class="fa fa-check"></i>Raw data</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Introduction to Environmental Data Science</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="introduction-to-r" class="section level1" number="2">
<h1><span class="header-section-number">2</span> Introduction to R</h1>
<p><img src="img/R.png" align="right"></p>
<p>We’re assuming you’re either new to R or need a refresher.</p>
<p>We’ll start with some basic R operations entered directly in the console in RStudio.</p>
<div id="variables" class="section level2" number="2.1">
<h2><span class="header-section-number">2.1</span> Variables</h2>
<p>Variables are objects that store values. Every computer language, like in math, stores
values by assigning them constants or results of expressions.
<code>x &lt;- 5</code> uses the R standard assignment operator <code>&lt;-</code> though you can also use <code>=</code>.
We’ll use <code>&lt;-</code> because it is more common and avoids some confusion with other syntax.</p>
<pre><code></code></pre>
<p>Variable names must start with a letter, have no spaces, and not use any names
that are built into the R language or used in package libraries, such as
reserved words like <code>for</code> or function names like <code>log()</code></p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="introduction-to-r.html#cb10-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">5</span></span>
<span id="cb10-2"><a href="introduction-to-r.html#cb10-2" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="dv">8</span></span>
<span id="cb10-3"><a href="introduction-to-r.html#cb10-3" aria-hidden="true" tabindex="-1"></a>longitude <span class="ot">&lt;-</span> <span class="sc">-</span><span class="fl">122.4</span></span>
<span id="cb10-4"><a href="introduction-to-r.html#cb10-4" aria-hidden="true" tabindex="-1"></a>latitude <span class="ot">&lt;-</span> <span class="fl">37.8</span></span>
<span id="cb10-5"><a href="introduction-to-r.html#cb10-5" aria-hidden="true" tabindex="-1"></a>my_name <span class="ot">&lt;-</span> <span class="st">&quot;Inigo Montoya&quot;</span></span></code></pre></div>
<p>To check the value of a variable or other object, you can just enter the name in
the console, or even in the code in a code chunk.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="introduction-to-r.html#cb11-1" aria-hidden="true" tabindex="-1"></a>x</span></code></pre></div>
<pre><code>## [1] 5</code></pre>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="introduction-to-r.html#cb13-1" aria-hidden="true" tabindex="-1"></a>y</span></code></pre></div>
<pre><code>## [1] 8</code></pre>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="introduction-to-r.html#cb15-1" aria-hidden="true" tabindex="-1"></a>longitude</span></code></pre></div>
<pre><code>## [1] -122.4</code></pre>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="introduction-to-r.html#cb17-1" aria-hidden="true" tabindex="-1"></a>latitude</span></code></pre></div>
<pre><code>## [1] 37.8</code></pre>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="introduction-to-r.html#cb19-1" aria-hidden="true" tabindex="-1"></a>my_name</span></code></pre></div>
<pre><code>## [1] &quot;Inigo Montoya&quot;</code></pre>
<p>This is counter to the way printing out values work in programming, and you will
need to know how this method works as well because you will want to use your code
to develop tools that accomplish things, and there are also limitations to what you
can see by just naming variables.</p>
<p>To see the values of variables in programming mode, use the <code>print()</code> function,
or to concatenate character string output, use <code>paste()</code>:</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="introduction-to-r.html#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(x)</span></code></pre></div>
<pre><code>## [1] 5</code></pre>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="introduction-to-r.html#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(y)</span></code></pre></div>
<pre><code>## [1] 8</code></pre>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="introduction-to-r.html#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(latitude)</span></code></pre></div>
<pre><code>## [1] 37.8</code></pre>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="introduction-to-r.html#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="fu">paste</span>(<span class="st">&quot;The location is latitude&quot;</span>, latitude, <span class="st">&quot;longitude&quot;</span>, longitude)</span></code></pre></div>
<pre><code>## [1] &quot;The location is latitude 37.8 longitude -122.4&quot;</code></pre>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="introduction-to-r.html#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="fu">paste</span>(<span class="st">&quot;My name is&quot;</span>, my_name, <span class="st">&quot;-- Prepare to die.&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;My name is Inigo Montoya -- Prepare to die.&quot;</code></pre>
</div>
<div id="functions" class="section level2" number="2.2">
<h2><span class="header-section-number">2.2</span> Functions</h2>
<p>Once you have variables or other objects to work with, most of your work
involves <strong>functions</strong> such as well-known math functions</p>
<pre><code>log10(100)
log(exp(5))
cos(pi)
sin(90 * pi/180)</code></pre>
<p>Most of your work will involve functions and there are too many to name,
even in the base functions, not to mention all the packages we will want to use.
You will likely have already used the <code>install.packages()</code> and <code>library()</code> functions
that add in an array of other functions.
Later we’ll also learn how to write our own functions, a capability that is easy to
accomplish and also gives you a sense of what developing your own package might be like.</p>
<p><strong>Arithmetic operators</strong>
There are of course all the normal arithmetic operators (that are actually functions)
like plus + and minus - or the key-stroke approximations of multiply * and divide / operators.
You’re probably familiar with these approximations from using equations in Excel if not
in some other programming language you may have learned. These operators look a bit different
from how they’d look when creating a nicely formatted equation.</p>
<p>For example, <span class="math inline">\(\frac{NIR - R}{NIR + R}\)</span> instead has to look like <code>(NIR-R)/(NIR+R)</code>.
Similarly <code>*</code> <em>must</em> be used to multiply; there’s no implied multiplication
that we expect in a math equation like <span class="math inline">\(x(2+y)\)</span> which would need to be written <code>x*(2+y)</code>.</p>
<p>In contrast to those four well-known operators, the symbol used to exponentiate – raise to a power –
varies among programming languages. R uses ** so the the Pythagorean theorem <span class="math inline">\(c^2=a^2+b^2\)</span> would be written <code>c**2 = a**2 + b**2</code> except for the fact that it wouldn’t make sense as a statement to R.
We’ll need to talk about expressions and statements.</p>
</div>
<div id="expressions-and-statements" class="section level2" number="2.3">
<h2><span class="header-section-number">2.3</span> Expressions and Statements</h2>
<p>The concepts of expressions and statements are very important to understand in any programming language.</p>
<p>An <strong>expression</strong> in R (or any programming language) has a <em>value</em> just like a variable has a value.
An expression will commonly combine variables and functions to be <em>evaluated</em> to derive the value
of the expression. Here are some examples of expressions:</p>
<pre><code>5
x
x*2
sin(x)
sqrt(a**2 + b**2)
(-b+sqrt(b**2-4*a*c))/2*a
paste(&quot;My name is&quot;, aname)</code></pre>
<p>Note that some of those expressions used previously assigned variables – x, a, b, c, aname.</p>
<p>An expression can be entered in the console to display its current value, and this is commonly done in R for objects of many types and complexity.</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb33-1"><a href="introduction-to-r.html#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cos</span>(pi)</span></code></pre></div>
<pre><code>## [1] -1</code></pre>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb35-1"><a href="introduction-to-r.html#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">cos</span>(pi))</span></code></pre></div>
<pre><code>## [1] -1</code></pre>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb37-1"><a href="introduction-to-r.html#cb37-1" aria-hidden="true" tabindex="-1"></a>Nile</span></code></pre></div>
<pre><code>## Time Series:
## Start = 1871 
## End = 1970 
## Frequency = 1 
##   [1] 1120 1160  963 1210 1160 1160  813 1230 1370 1140  995  935 1110  994 1020
##  [16]  960 1180  799  958 1140 1100 1210 1150 1250 1260 1220 1030 1100  774  840
##  [31]  874  694  940  833  701  916  692 1020 1050  969  831  726  456  824  702
##  [46] 1120 1100  832  764  821  768  845  864  862  698  845  744  796 1040  759
##  [61]  781  865  845  944  984  897  822 1010  771  676  649  846  812  742  801
##  [76] 1040  860  874  848  890  744  749  838 1050  918  986  797  923  975  815
##  [91] 1020  906  901 1170  912  746  919  718  714  740</code></pre>
<p>A <strong>statement</strong> in R <em>does something</em>. It represents a directive we’re assigning to the computer, or
maybe the environment we’re running on the computer (like RStudio, which then runs R). A simple
<code>print()</code> <em>statement</em> seems a lot like what we just did when we entered an expression in the console, but recognize that it <em>does something</em>:</p>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb39-1"><a href="introduction-to-r.html#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="st">&quot;Hello, World&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;Hello, World&quot;</code></pre>
<p>Which is the same as just typing “Hello, World,” but that’s just because the job of the console is to display what we are looking for [where we are the ones <em>doing something</em>], or if our statement includes something to display.</p>
<p>Statements in R are usually put on one line, but you can use a semicolon to have multiple statements on one line, if desired:</p>
<div class="sourceCode" id="cb41"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb41-1"><a href="introduction-to-r.html#cb41-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">5</span>; <span class="fu">print</span>(x); <span class="fu">print</span>(x<span class="sc">**</span><span class="dv">2</span>)</span></code></pre></div>
<pre><code>## [1] 5</code></pre>
<pre><code>## [1] 25</code></pre>
<p>Many (perhaps most) statements don’t actually display anything. For instance:</p>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb44-1"><a href="introduction-to-r.html#cb44-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">5</span></span></code></pre></div>
<p>doesn’t display anything, but it does assign the value 5 to the variable x, so it simply <em>does something</em>. It’s an <strong>assignment statement</strong> and uses that special assignment operator <code>&lt;-</code> . Most languages just use <code>=</code> which the designers of R didn’t want to use, to avoid confusing it with the equal sign meaning “is equal to.”</p>
<p><em>An assignment statement assigns an expression to a variable.</em> If that variable already exists, it is reused with the new value. For instance it’s completely legit (and commonly done in coding) to update the variable in an assignment statement. This is very common when using a counter variable:</p>
<pre><code>i = i + 1</code></pre>
<p>You’re simply updating the index variable with the next value. This also illustrates why it’s <em>not</em> an equation: <span class="math inline">\(i=i+1\)</span> doesn’t work as an equation (unless i is actually <span class="math inline">\(\infty\)</span> but that’s just really weird.)</p>
<p>And <code>c**2 = a**2 + b**2</code> doesn’t make sense as an R statement because <code>c**2</code> isn’t a variable to be created.
The <code>**</code> part is interpreted as <em>raise to a power</em>. What is to the left of the assignment operator <code>=</code> <em>must</em> be a variable to be assigned the value of the expression.</p>
</div>
<div id="data-types" class="section level2" number="2.4">
<h2><span class="header-section-number">2.4</span> Data Types</h2>
<p>Variables, constants and other data elements in R have data types.
Common types are numeric and character.</p>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb46-1"><a href="introduction-to-r.html#cb46-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">5</span></span>
<span id="cb46-2"><a href="introduction-to-r.html#cb46-2" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(x)</span></code></pre></div>
<pre><code>## [1] &quot;numeric&quot;</code></pre>
<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb48-1"><a href="introduction-to-r.html#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(<span class="fl">4.5</span>)</span></code></pre></div>
<pre><code>## [1] &quot;numeric&quot;</code></pre>
<div class="sourceCode" id="cb50"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb50-1"><a href="introduction-to-r.html#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(<span class="st">&quot;Fred&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;character&quot;</code></pre>
<div id="integers" class="section level3" number="2.4.1">
<h3><span class="header-section-number">2.4.1</span> Integers</h3>
<p>By default, R creates double-precision floating-point numeric variables
To create integer variables:
- append an L to a constant, e.g. <code>5L</code> is an integer 5
- convert with <code>as.integer</code>
We’re going to be looking at various <code>as.</code> functions in R, more on that later,
but we should look at <code>as.integer()</code> now. Most other languages use <code>int()</code> for this,
and what it does is converts <em>any number</em> into an integer, <em>truncating</em> it to an
integer, not rounding it.</p>
<div class="sourceCode" id="cb52"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb52-1"><a href="introduction-to-r.html#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="fu">as.integer</span>(<span class="dv">5</span>)</span></code></pre></div>
<pre><code>## [1] 5</code></pre>
<div class="sourceCode" id="cb54"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb54-1"><a href="introduction-to-r.html#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="fu">as.integer</span>(<span class="fl">4.5</span>)</span></code></pre></div>
<pre><code>## [1] 4</code></pre>
<p>To round a number, there’s a <code>round()</code> function or you can easily use <code>as.integer</code> adding 0.5:</p>
<div class="sourceCode" id="cb56"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb56-1"><a href="introduction-to-r.html#cb56-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fl">4.8</span></span>
<span id="cb56-2"><a href="introduction-to-r.html#cb56-2" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="fl">4.2</span></span>
<span id="cb56-3"><a href="introduction-to-r.html#cb56-3" aria-hidden="true" tabindex="-1"></a><span class="fu">as.integer</span>(x <span class="sc">+</span> <span class="fl">0.5</span>)</span></code></pre></div>
<pre><code>## [1] 5</code></pre>
<div class="sourceCode" id="cb58"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb58-1"><a href="introduction-to-r.html#cb58-1" aria-hidden="true" tabindex="-1"></a><span class="fu">round</span>(x)</span></code></pre></div>
<pre><code>## [1] 5</code></pre>
<div class="sourceCode" id="cb60"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb60-1"><a href="introduction-to-r.html#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="fu">as.integer</span>(y <span class="sc">+</span> <span class="fl">0.5</span>)</span></code></pre></div>
<pre><code>## [1] 4</code></pre>
<div class="sourceCode" id="cb62"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb62-1"><a href="introduction-to-r.html#cb62-1" aria-hidden="true" tabindex="-1"></a><span class="fu">round</span>(y)</span></code></pre></div>
<pre><code>## [1] 4</code></pre>
<p>Integer divison:</p>
<div class="sourceCode" id="cb64"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb64-1"><a href="introduction-to-r.html#cb64-1" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span> <span class="sc">%/%</span> <span class="dv">2</span></span></code></pre></div>
<pre><code>## [1] 2</code></pre>
<p>Integer remainder from division (the modulus, using a <code>%%</code> to represent the modulo):</p>
<div class="sourceCode" id="cb66"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb66-1"><a href="introduction-to-r.html#cb66-1" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span> <span class="sc">%%</span> <span class="dv">2</span></span></code></pre></div>
<pre><code>## [1] 1</code></pre>
<p>Surprisingly, the values returned by integer division or the remainder are not stored as integers. R seems to prefer floating point…</p>
</div>
</div>
<div id="rectangular-data" class="section level2" number="2.5">
<h2><span class="header-section-number">2.5</span> Rectangular data</h2>
<p>A common data format used in most types of research is <strong>rectangular</strong> data such as in a spreadsheet,
with rows and columns, where rows might be <strong>observations</strong> and columns might be <strong>variables</strong>.
We’ll read this type of data in from spreadsheets or even more commonly from comma-separated-variable (CSV)</p>
<div class="sourceCode" id="cb68"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb68-1"><a href="introduction-to-r.html#cb68-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(iGIScData)</span>
<span id="cb68-2"><a href="introduction-to-r.html#cb68-2" aria-hidden="true" tabindex="-1"></a>sierraFeb</span></code></pre></div>
<pre><code>## # A tibble: 82 x 7
##    STATION_NAME       COUNTY ELEVATION LATITUDE LONGITUDE PRECIPITATION TEMPERATURE
##    &lt;chr&gt;              &lt;chr&gt;      &lt;dbl&gt;    &lt;dbl&gt;     &lt;dbl&gt;         &lt;dbl&gt;       &lt;dbl&gt;
##  1 GROVELAND 2, CA US Tuolu~     853.      37.8     -120.         176.          6.1
##  2 CANYON DAM, CA US  Plumas    1390.      40.2     -121.         164.          1.4
##  3 KERN RIVER PH 3, ~ Kern       824.      35.8     -118.          67.1         8.9
##  4 DONNER MEMORIAL S~ Nevada    1810.      39.3     -120.         167.         -0.9
##  5 BOWMAN DAM, CA US  Nevada    1641.      39.5     -121.         277.          2.9
##  6 BRUSH CREEK RANGE~ Butte     1085.      39.7     -121.         296.         NA  
##  7 GRANT GROVE, CA US Tulare    2012.      36.7     -119.         186.          1.7
##  8 LEE VINING, CA US  Mono      2072.      38.0     -119.          71.9         0.4
##  9 OROVILLE MUNICIPA~ Butte       57.9     39.5     -122.         138.         10.3
## 10 LEMON COVE, CA US  Tulare     156.      36.4     -119.          62.7        11.3
## # ... with 72 more rows</code></pre>
</div>
<div id="data-structures-in-r" class="section level2" number="2.6">
<h2><span class="header-section-number">2.6</span> Data Structures in R</h2>
<p>We looked briefly at numeric and character string (we’ll abbreviate simply as “string” from here on).
We’ll also look at factors and dates/times later on.</p>
<div id="vectors" class="section level3" number="2.6.1">
<h3><span class="header-section-number">2.6.1</span> Vectors</h3>
<p>A vector is an ordered collection of numbers, strings, vectors, data frames, etc.
What we mostly refer to as vectors are formally called <strong>atomic vectors</strong> which requires
that they be <em>homogeneous</em> sets of whatever type we’re referring to, such as a vector of numbers,
or a vector of strings, or a vector of dates/times.</p>
<p>You can create a simple vector with the <code>c()</code> function:</p>
<div class="sourceCode" id="cb70"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb70-1"><a href="introduction-to-r.html#cb70-1" aria-hidden="true" tabindex="-1"></a>lats <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fl">37.5</span>,<span class="fl">47.4</span>,<span class="fl">29.4</span>,<span class="fl">33.4</span>)</span>
<span id="cb70-2"><a href="introduction-to-r.html#cb70-2" aria-hidden="true" tabindex="-1"></a>lats</span></code></pre></div>
<pre><code>## [1] 37.5 47.4 29.4 33.4</code></pre>
<div class="sourceCode" id="cb72"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb72-1"><a href="introduction-to-r.html#cb72-1" aria-hidden="true" tabindex="-1"></a>states <span class="ot">=</span> <span class="fu">c</span>(<span class="st">&quot;VA&quot;</span>, <span class="st">&quot;WA&quot;</span>, <span class="st">&quot;TX&quot;</span>, <span class="st">&quot;AZ&quot;</span>)</span>
<span id="cb72-2"><a href="introduction-to-r.html#cb72-2" aria-hidden="true" tabindex="-1"></a>states</span></code></pre></div>
<pre><code>## [1] &quot;VA&quot; &quot;WA&quot; &quot;TX&quot; &quot;AZ&quot;</code></pre>
<div class="sourceCode" id="cb74"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb74-1"><a href="introduction-to-r.html#cb74-1" aria-hidden="true" tabindex="-1"></a>zips <span class="ot">=</span> <span class="fu">c</span>(<span class="dv">23173</span>, <span class="dv">98801</span>, <span class="dv">78006</span>, <span class="dv">85001</span>)</span>
<span id="cb74-2"><a href="introduction-to-r.html#cb74-2" aria-hidden="true" tabindex="-1"></a>zips</span></code></pre></div>
<pre><code>## [1] 23173 98801 78006 85001</code></pre>
<p>The class of a vector is the type of data it holds</p>
<div class="sourceCode" id="cb76"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb76-1"><a href="introduction-to-r.html#cb76-1" aria-hidden="true" tabindex="-1"></a>temp <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fl">10.7</span>, <span class="fl">9.7</span>, <span class="fl">7.7</span>, <span class="fl">9.2</span>, <span class="fl">7.3</span>, <span class="fl">6.7</span>)</span>
<span id="cb76-2"><a href="introduction-to-r.html#cb76-2" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(temp)</span></code></pre></div>
<pre><code>## [1] &quot;numeric&quot;</code></pre>
<p>Vectors can only have one data class, and if mixed with character types, numeric elements will become character:</p>
<div class="sourceCode" id="cb78"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb78-1"><a href="introduction-to-r.html#cb78-1" aria-hidden="true" tabindex="-1"></a>mixed <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="st">&quot;fred&quot;</span>, <span class="dv">7</span>)</span>
<span id="cb78-2"><a href="introduction-to-r.html#cb78-2" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(mixed)</span></code></pre></div>
<pre><code>## [1] &quot;character&quot;</code></pre>
<div class="sourceCode" id="cb80"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb80-1"><a href="introduction-to-r.html#cb80-1" aria-hidden="true" tabindex="-1"></a>mixed[<span class="dv">3</span>]   <span class="co"># gets a subset, example of coercion</span></span></code></pre></div>
<pre><code>## [1] &quot;7&quot;</code></pre>
<div id="na" class="section level4" number="2.6.1.1">
<h4><span class="header-section-number">2.6.1.1</span> NA</h4>
<p>Data science requires dealing with missing data by storing some sort of null value, called various things:
- null
- nodata
- NA “not available” or “not applicable”</p>
<div class="sourceCode" id="cb82"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb82-1"><a href="introduction-to-r.html#cb82-1" aria-hidden="true" tabindex="-1"></a><span class="fu">as.numeric</span>(<span class="fu">c</span>(<span class="st">&quot;1&quot;</span>,<span class="st">&quot;Fred&quot;</span>,<span class="st">&quot;5&quot;</span>)) <span class="co"># note NA introduced by coercion</span></span></code></pre></div>
<pre><code>## [1]  1 NA  5</code></pre>
<p>Ignoring NA in statistical summaries is commonly used. Where normally the summary statistic can only return NA…</p>
<div class="sourceCode" id="cb84"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb84-1"><a href="introduction-to-r.html#cb84-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(<span class="fu">as.numeric</span>(<span class="fu">c</span>(<span class="st">&quot;1&quot;</span>, <span class="st">&quot;Fred&quot;</span>, <span class="st">&quot;5&quot;</span>)))</span></code></pre></div>
<pre><code>## [1] NA</code></pre>
<p>… with <code>na.rm=T</code> you can still get the result for all actual data:</p>
<div class="sourceCode" id="cb86"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb86-1"><a href="introduction-to-r.html#cb86-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(<span class="fu">as.numeric</span>(<span class="fu">c</span>(<span class="st">&quot;1&quot;</span>, <span class="st">&quot;Fred&quot;</span>, <span class="st">&quot;5&quot;</span>)), <span class="at">na.rm=</span>T)</span></code></pre></div>
<pre><code>## [1] 3</code></pre>
<p>Don’t confuse with <code>nan</code> (“not a number”) which is used for things like imaginary numbers (explore the help for more on this)</p>
<div class="sourceCode" id="cb88"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb88-1"><a href="introduction-to-r.html#cb88-1" aria-hidden="true" tabindex="-1"></a><span class="fu">is.na</span>(<span class="cn">NA</span>)</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb90"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb90-1"><a href="introduction-to-r.html#cb90-1" aria-hidden="true" tabindex="-1"></a><span class="fu">is.nan</span>(<span class="cn">NA</span>)</span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<div class="sourceCode" id="cb92"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb92-1"><a href="introduction-to-r.html#cb92-1" aria-hidden="true" tabindex="-1"></a><span class="fu">is.na</span>(<span class="fu">as.numeric</span>(<span class="st">&#39;&#39;</span>))</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb94"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb94-1"><a href="introduction-to-r.html#cb94-1" aria-hidden="true" tabindex="-1"></a><span class="fu">is.nan</span>(<span class="fu">as.numeric</span>(<span class="st">&#39;&#39;</span>))</span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<div class="sourceCode" id="cb96"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb96-1"><a href="introduction-to-r.html#cb96-1" aria-hidden="true" tabindex="-1"></a>i <span class="ot">&lt;-</span> <span class="fu">sqrt</span>(<span class="sc">-</span><span class="dv">1</span>)</span>
<span id="cb96-2"><a href="introduction-to-r.html#cb96-2" aria-hidden="true" tabindex="-1"></a><span class="fu">is.na</span>(i) <span class="co"># interestingly nan is also na</span></span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb98"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb98-1"><a href="introduction-to-r.html#cb98-1" aria-hidden="true" tabindex="-1"></a><span class="fu">is.nan</span>(i)</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
</div>
<div id="sequences" class="section level4" number="2.6.1.2">
<h4><span class="header-section-number">2.6.1.2</span> Sequences</h4>
<p>An easy way to make a vector from a sequence of values. The following 3 examples are equivalent:</p>
<pre><code>seq(1,10)
c(1:10)
c(1,2,3,4,5,6,7,8,9,10)</code></pre>
<p>The seq() function has special uses like using a step parameter:</p>
<div class="sourceCode" id="cb101"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb101-1"><a href="introduction-to-r.html#cb101-1" aria-hidden="true" tabindex="-1"></a><span class="fu">seq</span>(<span class="dv">2</span>,<span class="dv">10</span>,<span class="dv">2</span>)</span></code></pre></div>
<pre><code>## [1]  2  4  6  8 10</code></pre>
</div>
<div id="vectorization-and-vector-arithmetic" class="section level4" number="2.6.1.3">
<h4><span class="header-section-number">2.6.1.3</span> Vectorization and vector arithmetic</h4>
<p>Arithmetic on vectors operates element-wise</p>
<div class="sourceCode" id="cb103"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb103-1"><a href="introduction-to-r.html#cb103-1" aria-hidden="true" tabindex="-1"></a>elev <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">52</span>,<span class="dv">394</span>,<span class="dv">510</span>,<span class="dv">564</span>,<span class="dv">725</span>,<span class="dv">848</span>,<span class="dv">1042</span>,<span class="dv">1225</span>,<span class="dv">1486</span>,<span class="dv">1775</span>,<span class="dv">1899</span>,<span class="dv">2551</span>)</span>
<span id="cb103-2"><a href="introduction-to-r.html#cb103-2" aria-hidden="true" tabindex="-1"></a>elevft <span class="ot">&lt;-</span> elev <span class="sc">/</span> <span class="fl">0.3048</span></span>
<span id="cb103-3"><a href="introduction-to-r.html#cb103-3" aria-hidden="true" tabindex="-1"></a>elevft</span></code></pre></div>
<pre><code>##  [1]  170.6037 1292.6509 1673.2283 1850.3937 2378.6089 2782.1522 3418.6352
##  [8] 4019.0289 4875.3281 5823.4908 6230.3150 8369.4226</code></pre>
<p>Another example, with 2 vectors:</p>
<div class="sourceCode" id="cb105"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb105-1"><a href="introduction-to-r.html#cb105-1" aria-hidden="true" tabindex="-1"></a>temp03 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fl">13.1</span>,<span class="fl">11.4</span>,<span class="fl">9.4</span>,<span class="fl">10.9</span>,<span class="fl">8.9</span>,<span class="fl">8.4</span>,<span class="fl">6.7</span>,<span class="fl">7.6</span>,<span class="fl">2.8</span>,<span class="fl">1.6</span>,<span class="fl">1.2</span>,<span class="sc">-</span><span class="fl">2.1</span>)</span>
<span id="cb105-2"><a href="introduction-to-r.html#cb105-2" aria-hidden="true" tabindex="-1"></a>temp02 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fl">10.7</span>,<span class="fl">9.7</span>,<span class="fl">7.7</span>,<span class="fl">9.2</span>,<span class="fl">7.3</span>,<span class="fl">6.7</span>,<span class="fl">4.0</span>,<span class="fl">5.0</span>,<span class="fl">0.9</span>,<span class="sc">-</span><span class="fl">1.1</span>,<span class="sc">-</span><span class="fl">0.8</span>,<span class="sc">-</span><span class="fl">4.4</span>)</span>
<span id="cb105-3"><a href="introduction-to-r.html#cb105-3" aria-hidden="true" tabindex="-1"></a>tempdiff <span class="ot">&lt;-</span> temp03 <span class="sc">-</span> temp02</span>
<span id="cb105-4"><a href="introduction-to-r.html#cb105-4" aria-hidden="true" tabindex="-1"></a>tempdiff</span></code></pre></div>
<pre><code>##  [1] 2.4 1.7 1.7 1.7 1.6 1.7 2.7 2.6 1.9 2.7 2.0 2.3</code></pre>
</div>
<div id="plotting-vectors" class="section level4" number="2.6.1.4">
<h4><span class="header-section-number">2.6.1.4</span> Plotting vectors</h4>
<p>Vectors of Feb temperature, elevation and latitude at stations in the Sierra:</p>
<div class="sourceCode" id="cb107"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb107-1"><a href="introduction-to-r.html#cb107-1" aria-hidden="true" tabindex="-1"></a>temp <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fl">10.7</span>, <span class="fl">9.7</span>, <span class="fl">7.7</span>, <span class="fl">9.2</span>, <span class="fl">7.3</span>, <span class="fl">6.7</span>, <span class="fl">4.0</span>, <span class="fl">5.0</span>, <span class="fl">0.9</span>, <span class="sc">-</span><span class="fl">1.1</span>, <span class="sc">-</span><span class="fl">0.8</span>, <span class="sc">-</span><span class="fl">4.4</span>)</span>
<span id="cb107-2"><a href="introduction-to-r.html#cb107-2" aria-hidden="true" tabindex="-1"></a>elev <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">52</span>, <span class="dv">394</span>, <span class="dv">510</span>, <span class="dv">564</span>, <span class="dv">725</span>, <span class="dv">848</span>, <span class="dv">1042</span>, <span class="dv">1225</span>, <span class="dv">1486</span>, <span class="dv">1775</span>, <span class="dv">1899</span>, <span class="dv">2551</span>)</span>
<span id="cb107-3"><a href="introduction-to-r.html#cb107-3" aria-hidden="true" tabindex="-1"></a>lat <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fl">39.52</span>, <span class="fl">38.91</span>, <span class="fl">37.97</span>, <span class="fl">38.70</span>, <span class="fl">39.09</span>, <span class="fl">39.25</span>, <span class="fl">39.94</span>, <span class="fl">37.75</span>, <span class="fl">40.35</span>, <span class="fl">39.33</span>, <span class="fl">39.17</span>, <span class="fl">38.21</span>)</span></code></pre></div>
<p><strong>Plot individually</strong></p>
<div class="sourceCode" id="cb108"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb108-1"><a href="introduction-to-r.html#cb108-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(temp)</span></code></pre></div>
<div class="figure"><span id="fig:unnamed-chunk-31"></span>
<img src="EnvDataSci_files/figure-html/unnamed-chunk-31-1.png" alt="Temperature" width="672" />
<p class="caption">
Figure 2.1: Temperature
</p>
</div>
<div class="sourceCode" id="cb109"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb109-1"><a href="introduction-to-r.html#cb109-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(elev)</span></code></pre></div>
<div class="figure"><span id="fig:unnamed-chunk-32"></span>
<img src="EnvDataSci_files/figure-html/unnamed-chunk-32-1.png" alt="Elevation" width="672" />
<p class="caption">
Figure 2.2: Elevation
</p>
</div>
<div class="sourceCode" id="cb110"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb110-1"><a href="introduction-to-r.html#cb110-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(lat)</span></code></pre></div>
<div class="figure"><span id="fig:unnamed-chunk-33"></span>
<img src="EnvDataSci_files/figure-html/unnamed-chunk-33-1.png" alt="Latitude" width="672" />
<p class="caption">
Figure 2.3: Latitude
</p>
</div>
<p><strong>Then plot as a scatterplot</strong></p>
<div class="sourceCode" id="cb111"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb111-1"><a href="introduction-to-r.html#cb111-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(elev,temp)</span></code></pre></div>
<div class="figure"><span id="fig:unnamed-chunk-34"></span>
<img src="EnvDataSci_files/figure-html/unnamed-chunk-34-1.png" alt="Temperature~Elevation" width="672" />
<p class="caption">
Figure 2.4: Temperature~Elevation
</p>
</div>
</div>
<div id="named-indices" class="section level4" number="2.6.1.5">
<h4><span class="header-section-number">2.6.1.5</span> Named indices</h4>
<p>Vector indices can be named.</p>
<div class="sourceCode" id="cb112"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb112-1"><a href="introduction-to-r.html#cb112-1" aria-hidden="true" tabindex="-1"></a>codes <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">380</span>, <span class="dv">124</span>, <span class="dv">818</span>)</span>
<span id="cb112-2"><a href="introduction-to-r.html#cb112-2" aria-hidden="true" tabindex="-1"></a>codes</span></code></pre></div>
<pre><code>## [1] 380 124 818</code></pre>
<div class="sourceCode" id="cb114"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb114-1"><a href="introduction-to-r.html#cb114-1" aria-hidden="true" tabindex="-1"></a>codes <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="at">italy =</span> <span class="dv">380</span>, <span class="at">canada =</span> <span class="dv">124</span>, <span class="at">egypt =</span> <span class="dv">818</span>)</span>
<span id="cb114-2"><a href="introduction-to-r.html#cb114-2" aria-hidden="true" tabindex="-1"></a>codes</span></code></pre></div>
<pre><code>##  italy canada  egypt 
##    380    124    818</code></pre>
<div class="sourceCode" id="cb116"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb116-1"><a href="introduction-to-r.html#cb116-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(codes)</span></code></pre></div>
<pre><code>##  Named num [1:3] 380 124 818
##  - attr(*, &quot;names&quot;)= chr [1:3] &quot;italy&quot; &quot;canada&quot; &quot;egypt&quot;</code></pre>
<p>Why? I guess so you can refer to observations by name instead of index.
The following are equivalent:</p>
<div class="sourceCode" id="cb118"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb118-1"><a href="introduction-to-r.html#cb118-1" aria-hidden="true" tabindex="-1"></a>codes[<span class="dv">1</span>]</span></code></pre></div>
<pre><code>## italy 
##   380</code></pre>
<div class="sourceCode" id="cb120"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb120-1"><a href="introduction-to-r.html#cb120-1" aria-hidden="true" tabindex="-1"></a>codes[<span class="st">&quot;italy&quot;</span>]</span></code></pre></div>
<pre><code>## italy 
##   380</code></pre>
</div>
</div>
<div id="lists" class="section level3" number="2.6.2">
<h3><span class="header-section-number">2.6.2</span> Lists</h3>
<p>Lists can be heterogeneous, with multiple class types. Lists are actually used a lot in R, but we won’t see them for a while.</p>
</div>
<div id="matrices" class="section level3" number="2.6.3">
<h3><span class="header-section-number">2.6.3</span> Matrices</h3>
<p>Vectors are commonly used as a column in a matrix (or as we’ll see, a data frame), like a variable</p>
<div class="sourceCode" id="cb122"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb122-1"><a href="introduction-to-r.html#cb122-1" aria-hidden="true" tabindex="-1"></a>temp <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fl">10.7</span>, <span class="fl">9.7</span>, <span class="fl">7.7</span>, <span class="fl">9.2</span>, <span class="fl">7.3</span>, <span class="fl">6.7</span>, <span class="fl">4.0</span>, <span class="fl">5.0</span>, <span class="fl">0.9</span>, <span class="sc">-</span><span class="fl">1.1</span>, <span class="sc">-</span><span class="fl">0.8</span>, <span class="sc">-</span><span class="fl">4.4</span>)</span>
<span id="cb122-2"><a href="introduction-to-r.html#cb122-2" aria-hidden="true" tabindex="-1"></a>elev <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">52</span>, <span class="dv">394</span>, <span class="dv">510</span>, <span class="dv">564</span>, <span class="dv">725</span>, <span class="dv">848</span>, <span class="dv">1042</span>, <span class="dv">1225</span>, <span class="dv">1486</span>, <span class="dv">1775</span>, <span class="dv">1899</span>, <span class="dv">2551</span>)</span>
<span id="cb122-3"><a href="introduction-to-r.html#cb122-3" aria-hidden="true" tabindex="-1"></a>lat <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fl">39.52</span>, <span class="fl">38.91</span>, <span class="fl">37.97</span>, <span class="fl">38.70</span>, <span class="fl">39.09</span>, <span class="fl">39.25</span>, <span class="fl">39.94</span>, <span class="fl">37.75</span>, <span class="fl">40.35</span>, <span class="fl">39.33</span>, <span class="fl">39.17</span>, <span class="fl">38.21</span>)</span></code></pre></div>
<p><strong>Building a matrix from vectors as columns</strong></p>
<div class="sourceCode" id="cb123"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb123-1"><a href="introduction-to-r.html#cb123-1" aria-hidden="true" tabindex="-1"></a>sierradata <span class="ot">&lt;-</span> <span class="fu">cbind</span>(temp, elev, lat)</span>
<span id="cb123-2"><a href="introduction-to-r.html#cb123-2" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(sierradata)</span></code></pre></div>
<pre><code>## [1] &quot;matrix&quot; &quot;array&quot;</code></pre>
<div id="dimensions-for-arrays-and-matrices" class="section level4" number="2.6.3.1">
<h4><span class="header-section-number">2.6.3.1</span> Dimensions for arrays and matrices</h4>
<p>Note: a matrix is just a 2D array. Arrays have 1, 3, or more dimensions.</p>
<div class="sourceCode" id="cb125"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb125-1"><a href="introduction-to-r.html#cb125-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(sierradata)</span></code></pre></div>
<pre><code>## [1] 12  3</code></pre>
<div class="sourceCode" id="cb127"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb127-1"><a href="introduction-to-r.html#cb127-1" aria-hidden="true" tabindex="-1"></a>a <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">12</span></span>
<span id="cb127-2"><a href="introduction-to-r.html#cb127-2" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(a) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">3</span>, <span class="dv">4</span>)   <span class="co"># matrix</span></span>
<span id="cb127-3"><a href="introduction-to-r.html#cb127-3" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(a)</span></code></pre></div>
<pre><code>## [1] &quot;matrix&quot; &quot;array&quot;</code></pre>
<div class="sourceCode" id="cb129"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb129-1"><a href="introduction-to-r.html#cb129-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(a) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">2</span>)  <span class="co"># 3D array</span></span>
<span id="cb129-2"><a href="introduction-to-r.html#cb129-2" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(a)</span></code></pre></div>
<pre><code>## [1] &quot;array&quot;</code></pre>
<div class="sourceCode" id="cb131"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb131-1"><a href="introduction-to-r.html#cb131-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(a) <span class="ot">&lt;-</span> <span class="dv">12</span>        <span class="co"># 1D array</span></span>
<span id="cb131-2"><a href="introduction-to-r.html#cb131-2" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(a)</span></code></pre></div>
<pre><code>## [1] &quot;array&quot;</code></pre>
<div class="sourceCode" id="cb133"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb133-1"><a href="introduction-to-r.html#cb133-1" aria-hidden="true" tabindex="-1"></a>b <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">12</span>, <span class="at">ncol=</span><span class="dv">1</span>)  <span class="co"># 1 column matrix is allowed</span></span></code></pre></div>
</div>
</div>
<div id="data-frames" class="section level3" number="2.6.4">
<h3><span class="header-section-number">2.6.4</span> Data frames</h3>
<p>A data frame is a database with fields (as vectors) with records (rows), so is very important for data analysis and GIS. They’re kind of like a spreadsheet with rules (first row is field names, fields all one type). So even though they’re more complex than a list, we use them so frequently they become quite familiar. We’ll use a couple of alternative table display methods, though as we’ve seen we can also display them by entering the data frame name, or use head().</p>
<div class="sourceCode" id="cb134"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb134-1"><a href="introduction-to-r.html#cb134-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(palmerpenguins); <span class="fu">library</span>(kableExtra)</span>
<span id="cb134-2"><a href="introduction-to-r.html#cb134-2" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(</span>
<span id="cb134-3"><a href="introduction-to-r.html#cb134-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>(penguins, <span class="dv">10</span>), <span class="at">booktabs =</span> <span class="cn">TRUE</span>,</span>
<span id="cb134-4"><a href="introduction-to-r.html#cb134-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">caption =</span> <span class="st">&#39;first 10 rows of the palmerpenguins data&#39;</span></span>
<span id="cb134-5"><a href="introduction-to-r.html#cb134-5" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span></span>
<span id="cb134-6"><a href="introduction-to-r.html#cb134-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="st">&quot;striped&quot;</span>)</span></code></pre></div>
<table class="table table-striped" style="margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:unnamed-chunk-41">Table 2.1: </span>first 10 rows of the palmerpenguins data
</caption>
<thead>
<tr>
<th style="text-align:left;">
species
</th>
<th style="text-align:left;">
island
</th>
<th style="text-align:right;">
bill_length_mm
</th>
<th style="text-align:right;">
bill_depth_mm
</th>
<th style="text-align:right;">
flipper_length_mm
</th>
<th style="text-align:right;">
body_mass_g
</th>
<th style="text-align:left;">
sex
</th>
<th style="text-align:right;">
year
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Adelie
</td>
<td style="text-align:left;">
Torgersen
</td>
<td style="text-align:right;">
39.1
</td>
<td style="text-align:right;">
18.7
</td>
<td style="text-align:right;">
181
</td>
<td style="text-align:right;">
3750
</td>
<td style="text-align:left;">
male
</td>
<td style="text-align:right;">
2007
</td>
</tr>
<tr>
<td style="text-align:left;">
Adelie
</td>
<td style="text-align:left;">
Torgersen
</td>
<td style="text-align:right;">
39.5
</td>
<td style="text-align:right;">
17.4
</td>
<td style="text-align:right;">
186
</td>
<td style="text-align:right;">
3800
</td>
<td style="text-align:left;">
female
</td>
<td style="text-align:right;">
2007
</td>
</tr>
<tr>
<td style="text-align:left;">
Adelie
</td>
<td style="text-align:left;">
Torgersen
</td>
<td style="text-align:right;">
40.3
</td>
<td style="text-align:right;">
18.0
</td>
<td style="text-align:right;">
195
</td>
<td style="text-align:right;">
3250
</td>
<td style="text-align:left;">
female
</td>
<td style="text-align:right;">
2007
</td>
</tr>
<tr>
<td style="text-align:left;">
Adelie
</td>
<td style="text-align:left;">
Torgersen
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
2007
</td>
</tr>
<tr>
<td style="text-align:left;">
Adelie
</td>
<td style="text-align:left;">
Torgersen
</td>
<td style="text-align:right;">
36.7
</td>
<td style="text-align:right;">
19.3
</td>
<td style="text-align:right;">
193
</td>
<td style="text-align:right;">
3450
</td>
<td style="text-align:left;">
female
</td>
<td style="text-align:right;">
2007
</td>
</tr>
<tr>
<td style="text-align:left;">
Adelie
</td>
<td style="text-align:left;">
Torgersen
</td>
<td style="text-align:right;">
39.3
</td>
<td style="text-align:right;">
20.6
</td>
<td style="text-align:right;">
190
</td>
<td style="text-align:right;">
3650
</td>
<td style="text-align:left;">
male
</td>
<td style="text-align:right;">
2007
</td>
</tr>
<tr>
<td style="text-align:left;">
Adelie
</td>
<td style="text-align:left;">
Torgersen
</td>
<td style="text-align:right;">
38.9
</td>
<td style="text-align:right;">
17.8
</td>
<td style="text-align:right;">
181
</td>
<td style="text-align:right;">
3625
</td>
<td style="text-align:left;">
female
</td>
<td style="text-align:right;">
2007
</td>
</tr>
<tr>
<td style="text-align:left;">
Adelie
</td>
<td style="text-align:left;">
Torgersen
</td>
<td style="text-align:right;">
39.2
</td>
<td style="text-align:right;">
19.6
</td>
<td style="text-align:right;">
195
</td>
<td style="text-align:right;">
4675
</td>
<td style="text-align:left;">
male
</td>
<td style="text-align:right;">
2007
</td>
</tr>
<tr>
<td style="text-align:left;">
Adelie
</td>
<td style="text-align:left;">
Torgersen
</td>
<td style="text-align:right;">
34.1
</td>
<td style="text-align:right;">
18.1
</td>
<td style="text-align:right;">
193
</td>
<td style="text-align:right;">
3475
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
2007
</td>
</tr>
<tr>
<td style="text-align:left;">
Adelie
</td>
<td style="text-align:left;">
Torgersen
</td>
<td style="text-align:right;">
42.0
</td>
<td style="text-align:right;">
20.2
</td>
<td style="text-align:right;">
190
</td>
<td style="text-align:right;">
4250
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
2007
</td>
</tr>
</tbody>
</table>
<p>This <code>palmerpenguins</code> data frame is from <span class="citation"><a href="references.html#ref-palmer" role="doc-biblioref">Horst, Hill, and Gorman</a> (<a href="references.html#ref-palmer" role="doc-biblioref">2020</a>)</span>.</p>
<p><strong>Creating a data frame out of a matrix</strong></p>
<div class="sourceCode" id="cb135"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb135-1"><a href="introduction-to-r.html#cb135-1" aria-hidden="true" tabindex="-1"></a>mydata <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(sierradata)</span>
<span id="cb135-2"><a href="introduction-to-r.html#cb135-2" aria-hidden="true" tabindex="-1"></a>DT<span class="sc">::</span><span class="fu">datatable</span>(mydata)</span></code></pre></div>
<div class="figure"><span id="fig:unnamed-chunk-42"></span>
<div id="htmlwidget-08c64fb79228757641cb" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-08c64fb79228757641cb">{"x":{"filter":"none","data":[["1","2","3","4","5","6","7","8","9","10","11","12"],[10.7,9.7,7.7,9.2,7.3,6.7,4,5,0.9,-1.1,-0.8,-4.4],[52,394,510,564,725,848,1042,1225,1486,1775,1899,2551],[39.52,38.91,37.97,38.7,39.09,39.25,39.94,37.75,40.35,39.33,39.17,38.21]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>temp<\/th>\n      <th>elev<\/th>\n      <th>lat<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[1,2,3]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
<p class="caption">
Figure 2.5: Temperature~Elevation
</p>
</div>
<div class="sourceCode" id="cb136"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb136-1"><a href="introduction-to-r.html#cb136-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="at">data =</span> mydata, <span class="at">x =</span> elev, <span class="at">y =</span> temp)</span></code></pre></div>
<div class="figure"><span id="fig:unnamed-chunk-42"></span>
<img src="EnvDataSci_files/figure-html/unnamed-chunk-42-2.png" alt="Temperature~Elevation" width="672" />
<p class="caption">
Figure 2.5: Temperature~Elevation
</p>
</div>
<p><strong>Read a data frame from a CSV</strong></p>
<p>We’ll be looking at this more in the next chapter, but a common need is to read data from a spreadsheet stored in the CSV format. Normally, you’d have that stored with your project and can just specify the file name, but we’ll access CSVs from the iGIScData package. Since you have this installed, it will already be on your computer, but not in your project folder. The path to it can be derived using the <code>system.file()</code> function.</p>
<p>Reading a csv in <code>readr</code> (part of the tidyverse that we’ll be looking at in the next chapter) is done with <code>read_csv()</code>:</p>
<div class="sourceCode" id="cb137"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb137-1"><a href="introduction-to-r.html#cb137-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readr)</span>
<span id="cb137-2"><a href="introduction-to-r.html#cb137-2" aria-hidden="true" tabindex="-1"></a>csvPath <span class="ot">&lt;-</span> <span class="fu">system.file</span>(<span class="st">&quot;extdata&quot;</span>,<span class="st">&quot;TRI_1987_BaySites.csv&quot;</span>, <span class="at">package=</span><span class="st">&quot;iGIScData&quot;</span>)</span>
<span id="cb137-3"><a href="introduction-to-r.html#cb137-3" aria-hidden="true" tabindex="-1"></a>TRI87 <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(csvPath)</span>
<span id="cb137-4"><a href="introduction-to-r.html#cb137-4" aria-hidden="true" tabindex="-1"></a>DT<span class="sc">::</span><span class="fu">datatable</span>(TRI87, <span class="at">options=</span><span class="fu">list</span>(<span class="at">scrollX=</span>T))</span></code></pre></div>
<div id="htmlwidget-7affd83ba59b60705cae" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-7affd83ba59b60705cae">{"x":{"filter":"none","data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","100","101","102","103","104","105","106","107","108","109","110","111","112","113","114","115","116","117","118","119","120","121","122","123","124","125","126","127","128","129","130","131","132","133","134","135","136","137","138","139","140","141","142","143","144","145","146","147","148","149","150","151","152","153","154","155","156","157","158","159","160","161","162","163","164","165","166","167","168","169","170","171","172","173","174","175","176","177","178","179","180","181","182","183","184","185","186","187","188","189","190","191","192","193","194","195","196","197","198","199","200","201","202","203","204","205","206","207","208","209","210","211","212","213","214","215","216","217","218","219","220","221","222","223","224","225","226","227","228","229","230","231","232","233","234","235","236","237","238","239","240","241","242","243","244","245","246","247","248","249","250","251","252","253","254","255","256","257","258","259","260","261","262","263","264","265","266","267","268","269","270","271","272","273","274","275","276","277","278","279","280","281","282","283","284","285","286","287","288","289","290","291","292","293","294","295","296","297","298","299","300","301","302","303","304","305","306","307","308","309","310","311","312","313","314","315","316","317","318","319","320","321","322","323","324","325","326","327","328","329","330","331","332","333","334","335"],["91002FRMND585BR","92052ZPMNF2970C","93117TLDYN3165P","94002GTWSG477HA","94002SMPRD120SE","94025HBLNN151CO","94025RYCHM300CO","94025SNFRD990OB","94026BYPCK3575H","94026CDRSY3475E","94039LTTNP1101M","94039NTNLS313FA","94042JSCCH1710V","94043BLLND2637M","94043GTGVR100FE","94043NTXXX1625P","94043RYTHN350EL","94043SMMTC644NA","94043SPCTR1250W","94043TCHNT630NA","94063MPXCR401BR","94063PRSSR50CHE","94063RYCHMOAKSI","94066PHSXX1229M","94070KLLYM1015C","94070LTTNL960IN","94070MCDVS301IN","94070SPNCR952BR","94070THVLS920SO","94080LTHTY333PT","94080THBRN450EG","94083DJSMP111SO","94086DTGNR433NM","94086DVNCD1165E","94086HWLTT974EA","94086KTCHM1170S","94086MCRMS695VA","94086MDHLC1250E","94086PRTNG183CO","94086RGSYS310NO","94086SGNTC811EA","94086SHDDS1484K","94086XDXCR305SO","94086XRCRP750PA","94086ZYMSC477NM","94087FRDMT620ET","94088DVNCD901TH","94088DVNCD915DE","94088LTTNP525AL","94088MHWKL932KI","94088WSTNG401EH","94089KLTRN1380B","94089LCKHD1111L","94089RMSTR1271A","94103THMCG1201B","94107THGLD10001","94107WLLMS534FO","94110BSTFD1890B","94124CLRVM221BA","94124LHMBR2217R","94134SCHLG2401B","94303CRYST1060E","94303DVLLY844EA","94303FRDRS3825F","94303LZCRP2575H","94303SMXXX2536P","94303SNDZC1990B","94303VRNSS611HA","94304BCKMN1050P","94304HWLTT1501P","94304NTNLS4001M","94304QLTYT3400H","94304SYNTX3401H","94304VRNMG601CA","94304WTKNS3333H","94306HWLTT395PA","94402WYNHR910SA","94509DPNTN6000B","94509GYLRD1779W","94509KRLYGWILLO","94509MPRLW1701W","94510HNTWY3001P","94510NTDFB4280I","94510SPKLT5000E","94510XXNCS3400E","94518SYSTR2700S","94520DLXCH2550S","94525CLFRN830LO","94533BLLPC2400H","94533MRCNN2433C","94533NHSRB3101B","94533THCLR2600H","94536MCHMP37899","94538BRDNN41100","94538GLBLP44620","94538NWNTD45500","94538SGTMG47050","94538TRNDC44358","94538TRVLL41099","94539PPLCM48105","94540BTRCHBURBA","94540RYNLD2425W","94544CMFBR29240","94544DVSWL31775","94544GRTWS31760","94544HCKRY30955","94544JTBKRPOBOX","94544MDLND31500","94544NNCRB31086","94545CNTNN24493","94545DGSSG25932","94545DHSVS25817","94545LCTRP2436A","94545NRTNN1833S","94545NTNLF1841N","94545PHTML2437R","94545RHMND25500","94545THHRR25450","94547PCFCROLDHI","94550BSHPN500NG","94550HXCLC10TRE","94550JHNSN6383V","94550NTLCR250NO","94553MNSNT1778M","94553SHLLL3485P","94553STFFR100MO","94553TSCCRAVONR","94559SWYRF68COO","94560BRNBL8333E","94560BTPRD8240E","94560CCNDS8040W","94560FMCCR8787E","94560HBFLL6925C","94560NCLCH6800R","94560NTRNT38083","94560TYCMP6600S","94564MRCNN6590C","94565CMSTL761PO","94565CNTNN1300L","94565CRTRN2850W","94565DWCHMFOOTO","94565GNRLCNICHO","94565MPRLW1401L","94565NNCRB2000L","94565NRTHM1555N","94565SNCFB701WI","94565SSPSCPOBOX","94565THDXT2850W","94566KSRLM6177S","94566NDXNC5555S","94572NCLSNOLDHI","94572TSCSF2101F","94574BRNGR2000M","94577CCCLB14655","94577CNTNN1951F","94577CRNND2451P","94577GRDCL2661A","94577HRBRN1900M","94577MDRNM111SA","94577MRCNN2050W","94577PRCSN414HE","94577RVPCF2424M","94577SCNCM2756A","94577SMLBN835FR","94577TRNGL1930F","94577WRGRC2140D","94587CLNRS33100","94587CNTNN33280","94587CPNRG34400","94587DSTNC1205A","94587NTDST1295W","94587RCNCR1570A","94589CRSNS501GR","94590DGSSL403RY","94601BWNRT3100E","94601DLMNT3100E","94601PCFCG71546","94601SPSTP2904C","94603FLSCH92198","94603NBSCB92198","94603NTNLR7200L","94604MRCNN3801E","94607DCTCM7154T","94607GLBMT18201","94607RDSTR13845","94608BRBRY4300E","94608CHRLS1400P","94608CLRPR14826","94608LCTRC1421P","94608SHRWN1450S","94609CLTCH84131","94621BTSGR8001E","94621CSPRS10477","94621MRCNB7825S","94621THQKR5625E","94621WNSBR8717G","94621WNSLL3600A","94662LVRRB12006","94710CTTRB4THAN","94710DSTNC1608F","94710FLNTN750GI","94710MRLDP2821T","94710NTNLS742GR","94710PCFCS1333S","94710THPQC801GR","94710WSTRN12256","94801JHNLR7THAN","94801MYRSC900BR","94801STFFR525MA","94802CHVRN576ST","94802CHVRN841ST","94802GNRLC525CA","94802MRWSS1BARR","94804BRDLB32NDA","94804CHVRN835CA","94804CHVRN940HA","94804CHVRN940HE","94804CLFRN530S1","94804CMRCS1200S","94804CMRCS1415S","94804CSTRL801WH","94804PCFCR801CH","94804RCCRB731WC","94804RDNTC2800R","94806KPPRS3501C","94806SPRXY850MO","94928CLWDD5600S","94953SLPTC1500C","95002PPLCM600EH","95008DLXCH1551D","95008KKMNF1500D","95014DGTLQ10500","95014KSRCMNAXXX","95020BLDNM6200E","95020GLRYF1350P","95020SCNTF8100C","95035CKPNT201SI","95035DMNTC304TU","95035DMNTC690GI","95035JNSCH985MO","95035KMGNC487SO","95035LSLGC1601M","95035PCBNG1478G","95035RDRTC345LO","95035SLCTR2001F","95035SLCTR678SO","95035SLCTR901WR","95035SRRCH1001Y","95035XCRNC851BU","95050CNTNR2500D","95050LSLGC3115A","95050NSHCM365RE","95050PRCSN1500S","95050RTSNS999MA","95050SGMCR393MA","95050SNTCL1773G","95050TCHNC1000W","95050TNDYM1600M","95050WNSCR960CE","95050XDXCR5440P","95050ZYCNC3033S","95051DYNCR2919S","95051NTRSL3250S","95051PNNSL2964C","95051SRRSM2920S","95051ZYCNC2981C","95052HWLTT5301S","95052MMRXC1200M","95052NSYSP2300C","95052NSYSR1500M","95052NTLCR3065B","95052NTLCR3601J","95052NTNLS2900S","95054CRXXC3391K","95054GGMRP2175M","95054LCTRG3001C","95054NMTLF2262C","95054RPRDC1515N","95054SLCNX2201L","95054VNTKN3175B","95054VRNSS3560B","95054WDMDC5101L","95060SLZLT1040R","95060VTXPC511SW","95066SCTTS66ELP","95066SGTTC920DI","95066WTKNS440KI","95076HDCCR78HAN","95076MTKPC1715W","95076PLLSB735WE","95076SPCTR100WE","95103FMCCR1125C","95112BRKND2250S","95112CRDNL890CO","95112HRSMT439RE","95112MCRMT1695M","95112SCLLL520PA","95116MRSSM475EG","95120BMRSR650HA","95125GLSFR271BA","95125LLYHR441PE","95126CRNNC490RA","95126CRRYT1297P","95131CNNRP2221O","95131CNNRP2720O","95131HLLBR410CH","95131HWLTT350WT","95131HYLCT960RI","95131MGTST880FO","95131SQTCH1849F","95131STRGT575DA","95131VLSTC1109M","95131XCLMC2150C","95133CLBNC640LE","95133DPNCX520MA","95133QZTCR615NK","95134CYPRS3901N","95134KSRLC2701O","95134LCKHD45PLU","95134LRLRLONERI","95134MXTRC150RI","95134MXTRC211RI","95134SPCTR3333N","95136STHBY35113","95150CNVRG2700N","95150RCTGR696ET","95161NTDTCPOBOX","95193BMXXX5600C","95401HWLTT1412F","95403SNTRS1400A","95407CLXXX2789N","95425MGMBR1184S","95476SBSTN3894T","95620SMPLT7235T","95688MRCNHCROCK"],[2,1,2,2,2,2,10,1,2,2,1,8,5,1,2,1,4,1,3,1,2,1,2,3,6,3,8,5,1,1,5,5,1,5,2,3,2,2,4,1,12,1,5,4,3,1,4,6,1,3,2,2,8,1,1,8,1,2,2,3,1,1,1,2,1,1,3,7,1,4,1,4,1,4,2,2,1,10,1,1,1,5,1,2,18,3,1,1,5,1,2,1,3,6,1,18,5,3,6,1,5,3,2,3,2,3,6,5,1,5,1,1,1,1,1,3,9,1,10,1,2,1,4,2,16,3,29,1,7,1,2,1,2,3,1,2,4,1,1,4,21,11,1,1,1,2,7,1,2,1,15,1,1,1,3,3,1,1,3,3,2,6,4,5,1,3,2,4,2,2,1,2,5,2,3,3,1,3,1,1,2,2,6,1,1,4,1,1,1,3,1,1,2,1,1,1,4,1,1,12,2,2,3,7,1,1,1,2,3,28,27,1,4,3,3,5,6,2,1,2,2,1,1,3,3,3,2,1,1,1,1,2,1,1,2,4,1,5,1,6,1,3,1,3,1,1,1,1,1,2,5,2,8,1,3,2,4,1,3,3,4,5,2,1,2,5,2,3,1,3,2,6,14,2,7,1,1,1,1,3,3,1,2,1,1,2,2,2,4,1,1,10,3,1,1,5,4,1,2,2,1,3,1,1,1,1,10,1,1,1,2,6,1,3,1,3,5,1,1,1,1,1,1,6,1,2,5,10,2,2,5,1,1,2,1],["FORUM IND","ZEP MFG CO","TELEDYNE MEC","MORGAN ADVANCED CERAMICS BELMONT WESGO METALS","SEM PRODS INC","HEUBLEIN INC","TE CONNECTIVITY CORP","SANFORD METAL PROCESSING CO","BAY PACKAGING &amp; CONVERTING CO INC","CDR SYS CORP","LITTON APPLIED TECH","NATIONAL SEMICONDUCTOR CORP","JASCO CHEMICAL CORP","BELL INDUSTRIES INC PRECISION METALCRAFT DIV","GTE GOVERNMENT SYSTEMS CORP ELECTRONIC DEFENSE","SANMINA PLANT 4","FAIRCHILD SEMICONDUCTOR","SUMMIT CORP OF AMERICA","SPECTRA-PHYSICS LASER INC","TECHNITRON INC","AMPEX CORP","UNIVAR USA INC","TYCO ELECTRONICS CORP WIRE &amp; CABLE DIV","PHASE II","KELLY-MOORE PAINT CO INC","L-3 COMMUNICATIONS ELECTRON DEVICES DIV","COMMUNICATIONS &amp; POWER INDUSTRIES INC EIMAC DIVISON","REICHHOLD CHEMICALS INC","VALSPAR CORP","LITHOTYPE CO","ICI PAINTS","SIMPSON COATINGS GROUP INC","DATA GENERAL CORP SUNNYVALE DIV","ADVANCED MICRO DEVICES INC","APPLIED MATERIALS INC-ARQUES CAMPUS","KTI CHEMICALS INC","PHOTRONICS INC","AMDAHL CORP","PROTO ENGINEERING CORP","ARGOSYSTEMS INC","PHILIPS SEMICONDUCTORS","VAN DEN BERGH FOODS CO","SKC AMERICA INC","EXAR CORP","ZYMOS CORP","FOUR-D METAL FINISHING INC","ADVANCED MICRO DEVICES INC 901 FACILITY","SPANSION LLC","LITTON SYSTEMS INC APPLIED TECHNOLOGY DIV","NCH CORP MOHAWK LABS DIV","NORTHROP GRUMMAN SYSTEMS CORP","CONTACT INTERNATIONAL CORPORATION","LOCKHEED MARTIN SPACE SYSTEMS CO","ARMSTRONG TECHNOLOGY INC","MCGUIRE FURNITURE CO","GLIDDEN CO","WILLIAMS LITHOGRAPH CO","BEST FOODS","CLERVI MARBLE CO","ALHAMBRA DRINKING WATER CORP","SCHLAGE LOCK CO","GOOCH &amp; HOUSEGO (PALO ALTO) LLC","ADVALLOY INC","SPACE SYSTEMS/LORAL LLC B4","ALZA CORP","ASM","CATALYTICA BAY VIEW INC","VARIAN MEDICAL SYSTEMS","BECKMAN INSTRUMENTS INC","HEWLETT-PACKARD CO STANFORD PARK DIV","NATIONAL SEMICONDUCTOR CORP","QUALITY TECH","SYNTEX USA INC","LITTON ELECTRON DEVICES","WATKINS JOHNSON CO","HEWLETT-PACKARD CO PALO ALTO FABRICATION CTR","WAYNE HERZOG ENGRAVING INC","DU PONT ANTIOCH WORKS","GAYLORD CONTAINER CORP","HICKSON KERLEY INC","KEMWATER NA ANTIOCH PLANT","HUNTWAY REFINING CO","UNITED FIBERS","SPARKLETTS WATER SYSTEMS AQUA VEND","VALERO REFINING CO-CALI FORNIA BENICIA REFINERY","SYSTRON DONNER","DELUXE CHECK PRINTERS INC","C&amp;H SUGAR CO INC.","BALL METAL BEVERAGE CONTAINER CORP","ARDAGH METAL BEVERAGE USA INC  RE: FAIRFIELD PLANT","ANHEUSER-BUSCH LLC - FAIRFIELD BREWERY","CLOROX MANUFACTURING CO","HENKEL CORP PARKER+AMCHEM","MOMENTIVE SPECIALTY CHEMICALS INC","GLOBAL PLATING INC","TESLA INC","SEAGATE TECHNOLOGY LLC","BAY AREA CIRCUITS INC","CROWN CORK &amp; SEAL CO INC","APPLE COMPUTER INC","UNITED CAN CO","BALL METAL BEVERAGE CONTAINER CORP","ACME FIBERGLASS INC","DAVIS WIRE CORP","FOAMEX INTL","HICKORY SPRINGS OF CALIFORNIA INC","J T BAKER INC","ENGINEERED POLYMER SOLUTIONS INC. D/B/A VALSPAR COATINGS","UNION CARBIDE CORP","WHITE CAP INC PLANT 144","ELAMET TECHNOLOGIES INC","HENKEL CORP","ELECTRO PLATING SPECIALTIES INC","NORTON INDUSTRIES INC","NATIONAL FABTRONIX INC","PHOTO MILLING INC","ROHM &amp; HAAS CHEMICALS LLC","HERRICK CORP","PACIFIC REFINING CO","BISHOP INDUSTRIES INC","HEXCEL CORP","JOHNSON CONTROLS INC","INTEL CORP FAB 3","MECS INC","SHELL OIL PRODUCTS US-MARTINEZ REFINERY","ECO SERVICES OPERATIONS CORP","TESORO REFINING &amp; MARKETING CO LLC","SAWYER OF NAPA","BARON-BLAKESLEE","C &amp; C INDUSTRIES","C &amp; C INDUSTRIES","FMC CORP","H B FULLER CO","ROHM &amp; HAAS DELAWARE VALLEY INC NEWARK","INTERNATIONAL PAPER CO","OATEY CO","PECHINEY PLASTIC PACKAGING  PPNC","ACME PACKAGING CORP  BAY POINT","CONTINENTAL FOOD PKG PLANT # 469","CRITERION CATALYSTS &amp; TECHNOLOGIES LP PITTSBURG","DOW CHEMICAL CO","CHEMTRADE WEST US LLC","KEMWATER NA PITTSBURG PLANT","UNION CARBIDE INDUSTRIAL GASES INC","NORTH AMERICAN REFRACTORIES CO","SONOCO FIBRE DRUM INC","USS-POSCO INDUSTRIES","HENKEL CORP","KAISER ALUMINUM &amp; CHEMICAL CORP","CREANOVA INC","PHILLIPS 66 SAN FRANCISCO REFINERY","PHILLIPS 66 CARBON PLANT","BERINGER VINEYARDS","COCA-COLA BOTTLING CO OF CALIFORNIA","CROWN BEVERAGE PACKAGING INC PLANT #481","FXI INC","THOMAS OUTDOOR LIGHTING","HARBOR UNIVERSAL INC","MODERN MODE INC","AMERICAN NATIONAL CAN CO","PCC STRUCTURALS-SAN LEANDRO","AERVOE-PACIFIC CO INC","US CAN CO SAN LEANDRO PLANT #3","BINGHAM CO","TRIANGLE COATINGS INC","W.R. GRACE &amp; CO. - CONN., DAREX","CLEANERS HANGER CO","CROWN BEVERAGE PACKAGING INC","PHIBRO-TECH INC","DESOTO INC","US PIPE &amp; FOUNDRY CO LLC","ORCON CORP","ICI RESINS US","TIMET","CLEVELAND STEEL CONTAINER CORP","CALIFORNIA / WASHINGTON CAN CORP","PACIFIC GALVANIZING INC","ESPOSITO PLATING &amp; POLISHING CO","FLEISCHMANN'S YEAST","NABISCO INC FLEISCHMANN'S CO","NATIONAL AIRMOTIVE CORP","AMERICAN NATIONAL CAN CO","E-D COAT INC.","GLOBE METALS CO","LESAFFRE YEAST CORP","BARBARY COAST STEEL CORP","CHARLES LOWE CO CHROMEX DIV","CLEARPRINT PAPER CO","ELECTRO-COATINGS INC","SHERWIN-WILLIAMS CO.","CAL-TECH METAL FINISHING INC","BTS GROUP","CASPER'S INDUSTRIES INC","AB&amp;I FOUNDRY","QUAKER OATS CO","OWENS-BROCKWAY GLASS CONTAINER INC PLANT 27","OWENS-BROCKWAY GLASS CONTAINER INC - PLANT #20","OLIVER RUBBER CO","BAYER HEALTHCARE PHARMACEUTICALS","COURTAULDS AEROSPACE","FLINT INK CORP","EMERALD PACKAGING INC","NATIONAL STARCH &amp; CHEMICAL CO","PACIFIC STEEL CASTING CO","PQ CORP","WESTERN ROTO ENGRAVERS INC","JOHN L ARMITAGE &amp; CO","MYERS CONTAINER CORP","RHONE-POULENC BASIC CHEMICALS CO","CHEVRON RICHMOND TECHNOLOGY CENTER","CHEVRON PRODUCTS CO RICHMOND REFINERY","CHEMTRADE WEST US LLC","PINOLE POINT STEEL CO COLORSTRIP DIV","BIO-RAD LABORATORIES INC","CHEVRON CHEMICAL CO","CHEVRON CHEMICAL CO ORTHO PILOT PLANT","CHEVRON CHEMICAL CO","CALIFORNIA CASTING INC","ICI AMERICAS INC WESTERN RESEARCH CENTER","ZENECA INC RICHMOND AG PLANT","SAFETY-KLEEN SYSTEMS INC","PACIFIC RIM PACKAGING CORP","LINDE LLC","MAGGYCO INC RADIANT COLOR DIV","KOPPERS CO INC RICHMOND PLANT","US PEROXYGEN","CAL-WOOD DOOR INC","SOLA OPTICAL USA INC","APPLE COMPUTER INC","DELUXE CHECK PRINTERS INC","K &amp; K MANUFACTURING INC","DIGITAL EQUIPMENT CORP","LEHIGH SOUTHWEST CEMENT CO","BOLIDEN METECH INC WESTERN DIV","GILROY FOODS INC","SCIENTIFIC GAMES INTL","COOK COMPOSITES &amp; POLYMERS CO","DOMAIN TECH","AMC SUBSTRATES INC","JONES CHEMICALS INC","KOMAG INC BUILDINGS 2 &amp; 4","LSI LOGIC CORP","PCB ENGINEERING INC","READ RITE CORP","MMC TECHNOLOGY INC.","SOLECTRON CORP EASD &amp; QSD","SOLECTRON CORP, EASD","SCOTTS-SIERRA HORTICULTURAL PRODS CO INC","XICOR INC","CONTAINER CORP OF AMERICA FOLDING CARTON DIV","LSI LOGIC CORPORATION","STORMEDIA INC","ANALOG DEVICES INC SANTA CLARA SITE","ARTISANS OF CA INC","TTM TECHNOLOGIES-SANTA CLARA","SANTA CLARA PLATING CO INC","TECHNICAL COATINGS CO  SANTA CLARA","TANDY MAGNETIC MEDIA","OWENS CORNING SANTA CLARA PLANT","XIDEX CORP","ZYCON CORP","DYNA-CRAFT INC","HARRIS/INTERSIL INC","PENINSULA CIRCUIT BOARDS INC","SIERRA SEMICONDUCTOR","ZYCON CORP","AGILENT TECHNOLOGIES INC","MEMOREX TECHNOLOGIES INC, TAPE PLANT","SEQUEL INC, PERIPHERALS GROUP","UNISYS CORP RMCD","INTEL CORP SC1/2","INTEL CORP D2 FACILITY","NATIONAL SEMICONDUCTOR CORP","CIREXX CORP","VAREX IMAGING","ELECTROGLAS","NU-METAL FINISHING INC","AIR PRODUCTS MANUFACTURING CORP","SILICONIX INC","HEWLETT-PACKARD CO","INTEVAC INC","W D MEDIA CORP","SALZ LEATHERS INC","VI TEX PACKAGING INC","SCOTTS VALLEY CIRCUITS","SEAGATE TECH INC","WATKINS-JOHNSON CO SCOTTS VALLEY PLANT","HADCO TECH CENTER W","INDALEX INC -WATSONVILLE","PILLSBURY CO GREEN GIANT","SPECTRA-MAT INC","UNITED DEFENSE LP GROUND SYSTEMS DIV","BURKE INDUSTRIES INC","CARDINAL INDUSTRIAL FINISHES INC","HARO'S METAL FINISHING INC","MICRO METALLICS CORP","US CELLULOSE ALTERNATIVE MATERIALS TECHNOLOGY INC","EGGO CO","IBM RESEARCH DIV ALMADEN RESEARCH","GLASFORMS INC","NITREX INC","ACRIAN INC","GSS ARRAY TECH INC","OSE USA INC","CONNER PERIPHERALS INC","HILL BROTHERS CHEMICAL CO","AGILENT TECHS","HOYA CORP USA","MEGATEST CORP","MICREL LLC","STORAGETEK MEDIA CORP","PHILIPS SEMICONDUCTORS - VLSI","ROHM CORP COMMERCE FACILITY","ECOLAB, INC.","DAP INC","HURRELL LENOIR CITY INC","CYPRESS SEMICONDUCTOR SAN JOSE","ROCKWELL COLLINS DISPLAY SYSTEMS","LOCKHEED MISSILES &amp; SPACE CO INC","LORAL ROLM MILL  SPEC CORP","MAXTOR CORP","MAXTOR CORP","SPECTRA PHYSICS INC","SOUTH BAY CIRCUITS INC","UNISYS CORP","QUEBECOR PRINTING SAN JOSE INC","UNITED TECHNOLOGIES CORP P&amp;W SPACE PROPULSION","HGST INC","KEYSIGHT TECHNOLOGIES INC","SANTA ROSA STAINLESS STEEL","OPTICAL COATING LABORATORY INC","MGM BRAKES","SEBASTIANI VINEYARDS INC, SONOMA CASK CELLARS","SIMPLOT SOILBUILDERS","INTERNATIONAL HOME FOODS INC"],["SAN MATEO","SANTA CLARA","SANTA CLARA","SAN MATEO","SAN MATEO","SAN MATEO","SAN MATEO","SAN MATEO","SAN MATEO","SAN MATEO","SANTA CLARA","SANTA CLARA","SANTA CLARA","SANTA CLARA","SANTA CLARA","SANTA CLARA","SANTA CLARA","SANTA CLARA","SANTA CLARA","SANTA CLARA","SAN MATEO","SAN MATEO","SAN MATEO","SAN MATEO","SAN MATEO","SAN MATEO","SAN MATEO","SAN MATEO","SAN MATEO","SAN MATEO","SAN MATEO","SAN MATEO","SANTA CLARA","SANTA CLARA","SANTA CLARA","SANTA CLARA","SANTA CLARA","SANTA CLARA","SANTA CLARA","SANTA CLARA","SANTA CLARA","SANTA CLARA","SANTA CLARA","SANTA CLARA","SANTA CLARA","SANTA CLARA","SANTA CLARA","SANTA CLARA","SANTA CLARA","SANTA CLARA","SANTA CLARA","SANTA CLARA","SANTA CLARA","SANTA CLARA","SAN FRANCISCO","SAN FRANCISCO","SAN FRANCISCO","SAN FRANCISCO","SAN FRANCISCO","SAN FRANCISCO","SAN FRANCISCO","SANTA CLARA","SAN MATEO","SANTA CLARA","SANTA CLARA","SAN MATEO","SAN MATEO","SANTA CLARA","SANTA CLARA","SANTA CLARA","SANTA CLARA","SANTA CLARA","SANTA CLARA","SANTA CLARA","SANTA CLARA","SANTA CLARA","SAN MATEO","CONTRA COSTA","CONTRA COSTA","CONTRA COSTA","CONTRA COSTA","SOLANO","SOLANO","SOLANO","SOLANO","CONTRA COSTA","CONTRA COSTA","CONTRA COSTA","SOLANO","SOLANO","SOLANO","SOLANO","ALAMEDA","ALAMEDA","ALAMEDA","ALAMEDA","ALAMEDA","ALAMEDA","ALAMEDA","ALAMEDA","ALAMEDA","ALAMEDA","ALAMEDA","ALAMEDA","ALAMEDA","ALAMEDA","ALAMEDA","ALAMEDA","ALAMEDA","ALAMEDA","ALAMEDA","ALAMEDA","ALAMEDA","ALAMEDA","ALAMEDA","ALAMEDA","ALAMEDA","ALAMEDA","CONTRA COSTA","ALAMEDA","ALAMEDA","ALAMEDA","ALAMEDA","CONTRA COSTA","CONTRA COSTA","CONTRA COSTA","CONTRA COSTA","NAPA","ALAMEDA","ALAMEDA","ALAMEDA","ALAMEDA","ALAMEDA","ALAMEDA","ALAMEDA","ALAMEDA","ALAMEDA","CONTRA COSTA","CONTRA COSTA","CONTRA COSTA","CONTRA COSTA","CONTRA COSTA","CONTRA COSTA","CONTRA COSTA","CONTRA COSTA","CONTRA COSTA","CONTRA COSTA","CONTRA COSTA","ALAMEDA","ALAMEDA","CONTRA COSTA","CONTRA COSTA","NAPA","ALAMEDA","ALAMEDA","ALAMEDA","ALAMEDA","ALAMEDA","ALAMEDA","ALAMEDA","ALAMEDA","ALAMEDA","ALAMEDA","ALAMEDA","ALAMEDA","ALAMEDA","ALAMEDA","ALAMEDA","ALAMEDA","ALAMEDA","ALAMEDA","ALAMEDA","SOLANO","SOLANO","ALAMEDA","ALAMEDA","ALAMEDA","ALAMEDA","ALAMEDA","ALAMEDA","ALAMEDA","ALAMEDA","ALAMEDA","ALAMEDA","ALAMEDA","ALAMEDA","ALAMEDA","ALAMEDA","ALAMEDA","ALAMEDA","ALAMEDA","ALAMEDA","ALAMEDA","ALAMEDA","ALAMEDA","ALAMEDA","ALAMEDA","ALAMEDA","ALAMEDA","ALAMEDA","ALAMEDA","ALAMEDA","ALAMEDA","ALAMEDA","ALAMEDA","ALAMEDA","CONTRA COSTA","CONTRA COSTA","CONTRA COSTA","CONTRA COSTA","CONTRA COSTA","CONTRA COSTA","CONTRA COSTA","CONTRA COSTA","CONTRA COSTA","CONTRA COSTA","CONTRA COSTA","CONTRA COSTA","CONTRA COSTA","CONTRA COSTA","CONTRA COSTA","CONTRA COSTA","CONTRA COSTA","CONTRA COSTA","CONTRA COSTA","CONTRA COSTA","SONOMA","SONOMA","SANTA CLARA","SANTA CLARA","SANTA CLARA","SANTA CLARA","SANTA CLARA","SANTA CLARA","SANTA CLARA","SANTA CLARA","SANTA CLARA","SANTA CLARA","SANTA CLARA","SANTA CLARA","SANTA CLARA","SANTA CLARA","SANTA CLARA","SANTA CLARA","SANTA CLARA","SANTA CLARA","SANTA CLARA","SANTA CLARA","SANTA CLARA","SANTA CLARA","SANTA CLARA","SANTA CLARA","SANTA CLARA","SANTA CLARA","SANTA CLARA","SANTA CLARA","SANTA CLARA","SANTA CLARA","SANTA CLARA","SANTA CLARA","SANTA CLARA","SANTA CLARA","SANTA CLARA","SANTA CLARA","SANTA CLARA","SANTA CLARA","SANTA CLARA","SANTA CLARA","SANTA CLARA","SANTA CLARA","SANTA CLARA","SANTA CLARA","SANTA CLARA","SANTA CLARA","SANTA CLARA","SANTA CLARA","SANTA CLARA","SANTA CLARA","SANTA CLARA","SANTA CLARA","SANTA CLARA","SANTA CLARA","SANTA CRUZ","SANTA CRUZ","SANTA CRUZ","SANTA CRUZ","SANTA CRUZ","SANTA CRUZ","SANTA CRUZ","SANTA CRUZ","SANTA CRUZ","SANTA CLARA","SANTA CLARA","SANTA CLARA","SANTA CLARA","SANTA CLARA","SANTA CLARA","SANTA CLARA","SANTA CLARA","SANTA CLARA","SANTA CLARA","SANTA CLARA","SANTA CLARA","SANTA CLARA","SANTA CLARA","SANTA CLARA","SANTA CLARA","SANTA CLARA","SANTA CLARA","SANTA CLARA","SANTA CLARA","SANTA CLARA","SANTA CLARA","SANTA CLARA","SANTA CLARA","SANTA CLARA","SANTA CLARA","SANTA CLARA","SANTA CLARA","SANTA CLARA","SANTA CLARA","SANTA CLARA","SANTA CLARA","SANTA CLARA","SANTA CLARA","SANTA CLARA","SANTA CLARA","SANTA CLARA","SONOMA","SONOMA","SONOMA","SONOMA","SONOMA","SOLANO","SOLANO"],[1423,337,12600,18700,1500,500,144871,9675,80000,126800,8664,26836,28196,15138,750,250,1934,500,48590,250,4016,250,12206,750,3250,36507,171920,2250,8646,24000,16531,4841,250,7050,12733,750,1000,78913,40,14500,40199,1250,296710,1676,16292,250,2000,3000,44944,6250,78300,750,665200,19200,5043,4750,14000,500,2250,750,1165,7405,12508,18700,9550,750,6050,66750,22000,53340,270,1715,16000,19750,13000,41800,250,756236,250,36880,250,5577,5,500,1225993,1250,10829,250,191385,12597,12006,5,34,80083,60,1875450,15207,1102,119502,41500,75392,260093,18900,55353,72527,111950,5050,6500,9,35284,55000,500,250,63958,14400,1005,2379,250,57325,1893,82500,29000,27500,750,288174,40251,1174505,1990,36000,3242,9445,7390,19900,2246,1000,2744,52632,250,22451,17330,404774,29202,250,67,113,28395,74480,500,1000,59,193668,121000,250,4000,22244,626750,3600,20704,46000,135588,23500,4500,8400,2250,500,5850,14250,279750,2109,331,1000,62100,1974,60,40900,71996,250,750,21100,6877,17707,38006,5750,250,750,61,500,69408,2400,5410,250,22780,11470,480110,250,250,36045,500,32750,21150,1000,515000,2000,155194,500,1050,750,81250,3795,24150,315750,750,3100,40250,48526,2250,185745,1850,7,1104,500,20000,27549,750,70569,269,49000,58600,9580,20693,14065,9211,25,750,48775,2500,1467,72579,30000,2502,730,11495,500,30080,50500,6000,14200,10,2216,56000,16063,8650,19259,17800,750,1462,20505,2650,76754,62750,1000,2250,14000,250,500,1250,12200,83870,30500,146900,500,78720,94300,1000,9750,6600,250,2,153,3452,37660,54500,37250,10932,136,87700,22873,500,25695,15000,63063,215473,78031,250,96,5631,2500,250,500,102000,6700,1001,43000,45755,4335,500,20500,5105,16894,750,20899,2750,300,2463,250,129100,5955,22572,5600,14943,17000,22000,12000,3750,15000,413749,833087,1518421,154140,648,74850,21200,250,23697,750],[1423,337,12600,18700,500,0,47562,9675,32000,0,8664,21831,16663,15138,500,0,35,250,12275,0,3516,0,0,750,1500,22480,9370,1000,8646,10000,15150,3341,0,1750,250,0,1000,67986,40,1500,4500,1250,209310,0,16247,250,1000,1500,44944,2800,68000,500,165450,8500,0,2750,14000,500,2000,750,1165,7405,12508,5900,250,750,750,29250,22000,53000,30,250,0,16950,10200,41800,0,26716,0,0,0,5259,0,500,272685,0,0,250,187466,8110,12000,5,34,55530,10,8500,14207,852,114216,2100,49042,213073,16200,55353,0,0,1500,3250,6,15915,55000,500,250,0,0,500,1717,250,55752,750,16100,0,250,500,92124,23885,425925,1241,20350,3242,8695,0,3900,2246,750,0,37632,0,18310,750,45359,11223,0,67,113,27045,72600,250,500,0,89230,0,250,4000,14279,750,3600,35,0,71362,23250,3000,4300,0,250,3510,14250,42750,2109,26,750,500,970,0,29612,50860,250,750,21100,6877,13000,21456,5750,250,750,0,250,0,2400,5410,250,22780,11470,480110,250,250,0,250,750,16800,500,200000,750,15570,250,250,750,80000,400,4500,221250,0,750,750,47094,750,185735,925,6,454,500,4000,27549,750,55400,257,0,44400,480,7433,0,0,10,0,1000,1500,520,61271,30000,1500,730,0,250,30080,50500,6000,14200,0,2216,28000,0,8650,9345,0,750,1462,5,250,753,16250,0,1250,12500,250,0,0,250,17218,29400,63600,0,0,14750,1000,2250,1980,250,0,0,0,500,54500,250,2733,136,45000,15331,500,21995,15000,63063,87961,78031,0,96,3881,1000,250,500,0,0,750,43000,45755,4335,250,9150,720,6758,0,1159,1500,0,541,250,125000,5455,22572,1400,14943,17000,22000,5000,2750,5000,153488,66691,1339431,154140,648,47350,19000,250,250,0],[0,0,0,0,1000,500,97309,0,48000,126800,0,5005,11533,0,250,250,1899,250,36315,250,500,250,12206,0,1750,14027,162550,1250,0,14000,1381,1500,250,5300,12483,750,0,10927,0,13000,35699,0,87400,1676,45,0,1000,1500,0,3450,10300,250,499750,10700,5043,2000,0,0,250,0,0,0,0,12800,9300,0,5300,37500,0,340,240,1465,16000,2800,2800,0,250,729520,250,36880,250,318,5,0,953308,1250,10829,0,3919,4487,6,0,0,24553,50,1866950,1000,250,5286,39400,26350,47020,2700,0,72527,111950,3550,3250,3,19369,0,0,0,63958,14400,505,662,0,1573,1143,66400,29000,27250,250,196050,16366,748580,749,15650,0,750,7390,16000,0,250,2744,15000,250,4141,16580,359415,17979,250,0,0,1350,1880,250,500,59,104438,121000,0,0,7965,626000,0,20669,46000,64226,250,1500,4100,2250,250,2340,0,237000,0,305,250,61600,1004,60,11288,21136,0,0,0,0,4707,16550,0,0,0,61,250,69408,0,0,0,0,0,0,0,0,36045,250,32000,4350,500,315000,1250,139624,250,800,0,1250,3395,19650,94500,750,2350,39500,1432,1500,10,925,1,650,0,16000,0,0,15169,12,49000,14200,9100,13260,14065,9211,15,750,47775,1000,947,11308,0,1002,0,11495,250,0,0,0,0,10,0,28000,16063,0,9914,17800,0,0,20500,2400,76001,46500,1000,1000,1500,0,500,1250,11950,66652,1100,83300,500,78720,79550,0,7500,4620,0,2,153,3452,37160,0,37000,8199,0,42700,7542,0,3700,0,0,127512,0,250,0,1750,1500,0,0,102000,6700,251,0,0,0,250,11350,4385,10136,750,19740,1250,300,1922,0,4100,500,0,4200,0,0,0,7000,1000,10000,260261,766396,178990,0,0,27500,2200,0,23447,750],[37.51523,37.37575,37.40796,37.51956,37.52472,37.47928,37.48187,37.47498,37.48629,37.47655,37.39459,37.40486,37.3988,37.42872,37.38822,37.41672,37.3975,37.40274,37.4101,37.40185,37.48515,37.50396,37.476899,37.63976,37.50435,37.50572,37.51415,37.50661,37.49941,37.653552,37.650923,37.64974,37.38759,37.3816,37.38085,37.37154,37.39463,37.38045,37.376,37.38793,37.38094,37.37408,37.38573,37.39527,37.372237,37.38328,37.3825,37.3868,37.280335,37.37423,37.3787,37.41599,37.4166,37.40731,37.77034,37.76643,37.77903,37.76329,37.74476,37.73836,37.71114,37.43189,37.42197,37.42779,37.418347,37.47533,37.47359,37.41727,37.41888,37.41297,37.40023,37.40347,37.39715,37.42383,37.40675,37.42518,37.56669,38.013151,38.01234,37.99856,38.01234,38.0634,38.07558,38.08236,38.07167,37.96473,37.98582,38.0571,38.27793,38.27476,38.23906,38.28048,37.57549,37.5095,37.50216,37.49629,37.48466,37.50669,37.51099,37.47401,37.666781,37.60649,37.62942,37.61103,37.61066,37.61346,37.61143,37.61368,37.61011,37.64208,37.62942,37.6318,37.64679,37.65887,37.64961,37.64777,37.628889,37.63393,38.031841,37.70712,37.691197,37.70484,37.693616,38.02342,38.016594,38.034722,38.0251,38.28748,37.52261,37.52239,37.52371,37.52079,37.52418,37.527001,37.52627,37.52339,37.52694,38.03593,38.0183,38.028333,38.023129,38.047429,38.01801,38.01283,38.026722,38.02947,38.027981,38.02676,37.642056,37.64887,38.0436,38.01592,38.510413,37.69591,37.70284,37.709895,37.7098,37.70791,37.731598,37.70965,37.72262,37.70684,37.70897,37.70401,37.70305,37.71685,37.60055,37.598482,37.59109,37.602101,37.60599,37.60215,38.19524,38.09162,37.77567,37.773721,37.766158,37.77336,37.73973,37.73972,37.73992,37.77175,37.79995,37.81128,37.803711,37.841721,37.83087,37.84865,37.83094,37.83183,37.82118,37.74009,37.7542,37.75002,37.766462,37.747848,37.76824,37.84747,37.858361,37.87284,37.878827,37.85517,37.85461,37.8774,37.85487,37.88067,37.95869,37.96577,37.97589,37.93047,37.938779,37.940278,37.93843,37.91481,37.946128,37.9456,37.94557,37.92443,37.91662,37.915288,37.91934,37.95475,37.9253,37.97228,37.98024,37.98139,38.35672,38.23412,37.2943,37.26378,37.26483,37.32987,37.3181,36.98989,37.0032,37.01885,37.43159,37.42623,37.41693,37.41448,37.42683,37.40563,37.410664,37.42941,37.40103,37.424534,37.42803,37.42439,37.40655,37.36696,37.37859,37.3612,37.37624,37.36623,37.36263,37.358639,37.3698,37.36474,37.37431,37.41017,37.37726,37.37476,37.37963,37.37493,37.37476,37.37525,37.32311,37.36254,37.37419,37.36324,37.37704,37.383346,37.375281,37.38198,37.38875,37.3763,37.41013,37.38466,37.38404,37.37847,37.38518,37.40679,36.98674,36.95703,37.054895,37.04612,37.051111,36.92694,36.89651,36.90456,36.921778,37.35225,37.30804,37.365868,37.371053,37.31105,37.3079,37.356611,37.20153,37.30668,37.29885,37.31903,37.31673,37.21517,37.38854,37.382,37.38238,37.39726,37.38724,37.40093,37.38818,37.38892,37.39438,37.36182,37.35728,37.36356,37.41265,37.38631,37.39052,37.40108,37.40336,37.40425,37.40193,37.27772,37.38917,37.39069,37.23539,37.24737,38.483229,38.51111,38.41597,38.784,38.293084,38.49587,38.40583],[-122.26686,-121.98786,-122.15023,-122.26906,-122.26675,-122.1722,-122.16699,-122.1518,-122.18697,-122.19747,-122.045444,-122.05546,-122.0882,-122.09808,-122.05742,-122.08337,-122.0533,-122.0539,-122.08215,-122.05421,-122.202311,-122.210381,-122.206467,-122.41242,-122.25323,-122.25022,-122.26055,-122.25308,-122.24506,-122.379066,-122.382979,-122.41434,-122.03105,-121.9968,-122.00544,-121.99832,-122.03168,-121.98929,-122.00847,-122.04311,-122.01095,-121.98324,-122.03566,-122.03445,-122.036041,-122.01699,-122.0086,-122.0066,-121.804164,-122.00887,-122.0225,-122.0238,-122.03599,-121.99379,-122.40974,-122.39688,-122.39741,-122.41029,-122.40425,-122.40196,-122.4036,-122.10826,-122.1033,-122.10427,-122.149116,-122.1319,-122.12983,-122.14123,-122.14564,-122.15034,-122.13734,-122.14605,-122.14387,-122.14688,-122.14536,-122.14014,-122.30987,-121.745763,-121.77595,-121.76912,-121.77851,-122.1353,-122.12775,-122.14005,-122.13975,-122.02934,-122.04835,-122.2195,-121.97399,-121.9839,-122.09023,-121.970959,-121.97438,-121.98866,-121.95202,-121.94826,-121.93216,-121.94623,-121.99092,-121.92049,-122.094358,-122.06133,-122.05546,-122.04499,-122.04502,-122.04836,-122.0457,-122.04612,-122.05102,-122.11985,-122.1162,-122.11972,-122.12709,-122.13314,-122.12207,-122.13938,-122.127222,-122.11974,-122.275217,-121.69719,-121.744529,-121.71532,-121.746177,-122.053723,-122.115392,-122.112778,-122.0639,-122.28704,-122.04832,-122.04582,-122.04492,-122.05367,-122.02945,-122.021994,-122.0209,-122.01982,-122.02723,-121.96047,-121.8577,-121.943056,-121.855352,-121.986245,-121.85782,-121.86399,-121.914423,-121.90151,-121.872765,-121.94571,-121.88181,-121.88082,-122.2532,-122.23716,-122.478942,-122.16408,-122.16964,-122.190609,-122.155,-122.17284,-122.169952,-122.17895,-122.19259,-122.1697,-122.15444,-122.14891,-122.16914,-122.18547,-122.04043,-122.037941,-122.01042,-122.033442,-122.04237,-122.04221,-122.26552,-122.25043,-122.22779,-122.228733,-122.217597,-122.23292,-122.17908,-122.17907,-122.21869,-122.22473,-122.28191,-122.30203,-122.293692,-122.298436,-122.28746,-122.29312,-122.28717,-122.28889,-122.27452,-122.2017,-122.18957,-122.19409,-122.202335,-122.184504,-122.22724,-122.28809,-122.295611,-122.30155,-122.304073,-122.2889,-122.2959,-122.30543,-122.29459,-122.30174,-122.36153,-122.36096,-122.36696,-122.38944,-122.396453,-122.377222,-122.36889,-122.33916,-122.372518,-122.36923,-122.36893,-122.35908,-122.32901,-122.330001,-122.374694,-122.36133,-122.37673,-122.36243,-122.35323,-122.357085,-122.70929,-122.5942,-121.93946,-121.95666,-121.95585,-122.00904,-122.091,-121.55472,-121.53963,-121.56013,-121.88765,-121.89835,-121.88897,-121.8845,-121.89209,-121.91784,-121.888024,-121.90007,-121.89274,-121.891074,-121.88908,-121.88766,-121.91547,-121.94145,-121.9586,-121.93767,-121.95591,-121.95179,-121.93983,-121.944263,-121.95252,-121.95644,-121.95348,-121.98478,-121.96135,-121.9977,-121.9717,-121.98786,-121.9977,-121.9926,-121.99681,-121.95304,-121.9643,-121.95578,-121.97766,-121.965385,-121.9989,-121.94852,-121.96323,-121.97255,-121.96474,-121.95694,-121.96424,-121.97766,-121.95257,-121.96662,-122.03015,-122.0487,-122.008322,-122.0151,-122.029028,-121.79086,-121.77935,-121.76846,-121.791528,-121.92364,-121.85421,-121.888574,-121.90776,-121.86876,-121.85117,-121.872222,-121.82859,-121.87541,-121.87186,-121.9111,-121.90944,-121.86405,-121.93416,-121.913889,-121.93517,-121.90949,-121.90285,-121.89527,-121.91326,-121.89348,-121.88861,-121.86824,-121.86913,-121.86625,-121.95005,-121.93305,-121.933475,-121.94154,-121.936807,-121.93086,-121.9396,-121.852673,-121.93002,-121.916717,-121.68338,-121.79465,-122.712621,-122.78995,-122.75023,-123.0109,-122.449582,-121.77783,-121.94743]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>TRI_FACILITY_ID<\/th>\n      <th>count<\/th>\n      <th>FACILITY_NAME<\/th>\n      <th>COUNTY<\/th>\n      <th>air_releases<\/th>\n      <th>fugitive_air<\/th>\n      <th>stack_air<\/th>\n      <th>LATITUDE<\/th>\n      <th>LONGITUDE<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"scrollX":true,"columnDefs":[{"className":"dt-right","targets":[2,5,6,7,8,9]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
<p><strong>Sort, Index, &amp; Max/Min</strong></p>
<div class="sourceCode" id="cb138"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb138-1"><a href="introduction-to-r.html#cb138-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(<span class="fu">sort</span>(TRI87<span class="sc">$</span>air_releases))</span></code></pre></div>
<pre><code>## [1]  2  5  5  7  9 10</code></pre>
<div class="sourceCode" id="cb140"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb140-1"><a href="introduction-to-r.html#cb140-1" aria-hidden="true" tabindex="-1"></a>index <span class="ot">&lt;-</span> <span class="fu">order</span>(TRI87<span class="sc">$</span>air_releases)</span>
<span id="cb140-2"><a href="introduction-to-r.html#cb140-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(TRI87<span class="sc">$</span>FACILITY_NAME[index])   <span class="co"># displays facilities in order of their air releases</span></span></code></pre></div>
<pre><code>## [1] &quot;AIR PRODUCTS MANUFACTURING CORP&quot;         
## [2] &quot;UNITED FIBERS&quot;                           
## [3] &quot;CLOROX MANUFACTURING CO&quot;                 
## [4] &quot;ICI AMERICAS INC WESTERN RESEARCH CENTER&quot;
## [5] &quot;UNION CARBIDE CORP&quot;                      
## [6] &quot;SCOTTS-SIERRA HORTICULTURAL PRODS CO INC&quot;</code></pre>
<div class="sourceCode" id="cb142"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb142-1"><a href="introduction-to-r.html#cb142-1" aria-hidden="true" tabindex="-1"></a>i_max <span class="ot">&lt;-</span> <span class="fu">which.max</span>(TRI87<span class="sc">$</span>air_releases)</span>
<span id="cb142-2"><a href="introduction-to-r.html#cb142-2" aria-hidden="true" tabindex="-1"></a>TRI87<span class="sc">$</span>FACILITY_NAME[i_max]   <span class="co"># was NUMMI at the time</span></span></code></pre></div>
<pre><code>## [1] &quot;TESLA INC&quot;</code></pre>
</div>
<div id="factors" class="section level3" number="2.6.5">
<h3><span class="header-section-number">2.6.5</span> Factors</h3>
<p>Factors are vectors with predefined values
- Normally used for categorical data.
- Built on an <em>integer</em> vector
- Levels are the set of predefined values.</p>
<div class="sourceCode" id="cb144"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb144-1"><a href="introduction-to-r.html#cb144-1" aria-hidden="true" tabindex="-1"></a>fruit <span class="ot">&lt;-</span> <span class="fu">factor</span>(<span class="fu">c</span>(<span class="st">&quot;apple&quot;</span>, <span class="st">&quot;banana&quot;</span>, <span class="st">&quot;orange&quot;</span>, <span class="st">&quot;banana&quot;</span>))</span>
<span id="cb144-2"><a href="introduction-to-r.html#cb144-2" aria-hidden="true" tabindex="-1"></a>fruit   <span class="co"># note that levels will be in alphabetical order</span></span></code></pre></div>
<pre><code>## [1] apple  banana orange banana
## Levels: apple banana orange</code></pre>
<div class="sourceCode" id="cb146"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb146-1"><a href="introduction-to-r.html#cb146-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(fruit)</span></code></pre></div>
<pre><code>## [1] &quot;factor&quot;</code></pre>
<div class="sourceCode" id="cb148"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb148-1"><a href="introduction-to-r.html#cb148-1" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(fruit)</span></code></pre></div>
<pre><code>## [1] &quot;integer&quot;</code></pre>
<p>An equivalent conversion:</p>
<div class="sourceCode" id="cb150"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb150-1"><a href="introduction-to-r.html#cb150-1" aria-hidden="true" tabindex="-1"></a>fruitint <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">2</span>) <span class="co"># equivalent conversion</span></span>
<span id="cb150-2"><a href="introduction-to-r.html#cb150-2" aria-hidden="true" tabindex="-1"></a>fruit <span class="ot">&lt;-</span> <span class="fu">factor</span>(fruitint, <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">&quot;apple&quot;</span>, <span class="st">&quot;banana&quot;</span>, <span class="st">&quot;orange&quot;</span>))</span>
<span id="cb150-3"><a href="introduction-to-r.html#cb150-3" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(fruit)</span></code></pre></div>
<pre><code>##  Factor w/ 3 levels &quot;apple&quot;,&quot;banana&quot;,..: 1 2 3 2</code></pre>
<div id="categorical-data-and-factors" class="section level4" number="2.6.5.1">
<h4><span class="header-section-number">2.6.5.1</span> Categorical Data and Factors</h4>
<p>While character data might be seen as categorical (e.g. “urban,” “agricultural,” “forest” land covers), to be used as categorical variables they must be made into factors.</p>
<div class="sourceCode" id="cb152"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb152-1"><a href="introduction-to-r.html#cb152-1" aria-hidden="true" tabindex="-1"></a>grain_order <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;clay&quot;</span>, <span class="st">&quot;silt&quot;</span>, <span class="st">&quot;sand&quot;</span>)</span>
<span id="cb152-2"><a href="introduction-to-r.html#cb152-2" aria-hidden="true" tabindex="-1"></a>grain_char <span class="ot">&lt;-</span> <span class="fu">sample</span>(grain_order, <span class="dv">36</span>, <span class="at">replace =</span> <span class="cn">TRUE</span>)</span>
<span id="cb152-3"><a href="introduction-to-r.html#cb152-3" aria-hidden="true" tabindex="-1"></a>grain_fact <span class="ot">&lt;-</span> <span class="fu">factor</span>(grain_char, <span class="at">levels =</span> grain_order)</span>
<span id="cb152-4"><a href="introduction-to-r.html#cb152-4" aria-hidden="true" tabindex="-1"></a>grain_char</span></code></pre></div>
<pre><code>##  [1] &quot;sand&quot; &quot;silt&quot; &quot;sand&quot; &quot;clay&quot; &quot;silt&quot; &quot;clay&quot; &quot;clay&quot; &quot;clay&quot; &quot;sand&quot; &quot;clay&quot; &quot;sand&quot;
## [12] &quot;sand&quot; &quot;silt&quot; &quot;clay&quot; &quot;silt&quot; &quot;sand&quot; &quot;sand&quot; &quot;sand&quot; &quot;silt&quot; &quot;sand&quot; &quot;silt&quot; &quot;silt&quot;
## [23] &quot;sand&quot; &quot;sand&quot; &quot;silt&quot; &quot;silt&quot; &quot;sand&quot; &quot;clay&quot; &quot;clay&quot; &quot;clay&quot; &quot;sand&quot; &quot;clay&quot; &quot;sand&quot;
## [34] &quot;clay&quot; &quot;silt&quot; &quot;silt&quot;</code></pre>
<div class="sourceCode" id="cb154"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb154-1"><a href="introduction-to-r.html#cb154-1" aria-hidden="true" tabindex="-1"></a>grain_fact</span></code></pre></div>
<pre><code>##  [1] sand silt sand clay silt clay clay clay sand clay sand sand silt clay silt
## [16] sand sand sand silt sand silt silt sand sand silt silt sand clay clay clay
## [31] sand clay sand clay silt silt
## Levels: clay silt sand</code></pre>
<p>To make a categorical variable a factor:</p>
<div class="sourceCode" id="cb156"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb156-1"><a href="introduction-to-r.html#cb156-1" aria-hidden="true" tabindex="-1"></a>fruit <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;apples&quot;</span>, <span class="st">&quot;oranges&quot;</span>, <span class="st">&quot;bananas&quot;</span>, <span class="st">&quot;oranges&quot;</span>)</span>
<span id="cb156-2"><a href="introduction-to-r.html#cb156-2" aria-hidden="true" tabindex="-1"></a>farm <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;organic&quot;</span>, <span class="st">&quot;conventional&quot;</span>, <span class="st">&quot;organic&quot;</span>, <span class="st">&quot;organic&quot;</span>)</span>
<span id="cb156-3"><a href="introduction-to-r.html#cb156-3" aria-hidden="true" tabindex="-1"></a>ag <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(<span class="fu">cbind</span>(fruit, farm))</span>
<span id="cb156-4"><a href="introduction-to-r.html#cb156-4" aria-hidden="true" tabindex="-1"></a>ag<span class="sc">$</span>fruit <span class="ot">&lt;-</span> <span class="fu">factor</span>(ag<span class="sc">$</span>fruit)</span>
<span id="cb156-5"><a href="introduction-to-r.html#cb156-5" aria-hidden="true" tabindex="-1"></a>ag<span class="sc">$</span>fruit</span></code></pre></div>
<pre><code>## [1] apples  oranges bananas oranges
## Levels: apples bananas oranges</code></pre>
<p><strong>Factor example</strong></p>
<div class="sourceCode" id="cb158"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb158-1"><a href="introduction-to-r.html#cb158-1" aria-hidden="true" tabindex="-1"></a>sierraFeb<span class="sc">$</span>COUNTY <span class="ot">&lt;-</span> <span class="fu">factor</span>(sierraFeb<span class="sc">$</span>COUNTY)</span>
<span id="cb158-2"><a href="introduction-to-r.html#cb158-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(sierraFeb<span class="sc">$</span>COUNTY)</span></code></pre></div>
<pre><code>##  Factor w/ 21 levels &quot;Amador&quot;,&quot;Butte&quot;,..: 20 14 7 12 12 2 19 11 2 19 ...</code></pre>
</div>
</div>
</div>
<div id="programming-scripts-in-rstudio" class="section level2" number="2.7">
<h2><span class="header-section-number">2.7</span> Programming scripts in RStudio</h2>
<p>Given the exploratory nature of the R language, we sometimes forget that it provides
significant capabilities as a programming language where we can solve more
complex problems by coding procedures and using logic to control the process
and handle a range of possible scenarios.</p>
<p>Programming languages are used for a wide range of purposes, from developing operating
systems built from low-level code to high-level <em>scripting</em> used to run existing functions
in libraries. R and Python are commonly used for scripting, and you may be familiar with
using arcpy to script ArcGIS geoprocessing tools. But whether low- or high-level, some common
operational structures are used in all computer programming languages:</p>
<ul>
<li><p>Conditional operations: <em>If</em> a condition is true, do this, and maybe otherwise do something <em>else</em>.</p>
<p><code>if x!=0 {print(1/x)} else {print("Can't divide by 0")}</code></p></li>
<li><p>Loops</p>
<p><code>for(i in 1:10) print(paste(i, 1/i))</code></p></li>
<li><p>Functions (defining your own then using it in your main script)</p></li>
</ul>
<div class="sourceCode" id="cb160"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb160-1"><a href="introduction-to-r.html#cb160-1" aria-hidden="true" tabindex="-1"></a>turnright <span class="ot">&lt;-</span> <span class="cf">function</span>(ang){(ang <span class="sc">+</span> <span class="dv">90</span>) <span class="sc">%%</span> <span class="dv">360</span>}</span>
<span id="cb160-2"><a href="introduction-to-r.html#cb160-2" aria-hidden="true" tabindex="-1"></a><span class="fu">turnright</span>(<span class="fu">c</span>(<span class="dv">260</span>, <span class="dv">270</span>, <span class="dv">280</span>))</span></code></pre></div>
<pre><code>## [1] 350   0  10</code></pre>
<p><strong>Free-standing scripts and RStudio projects</strong></p>
<p>As we move forward, we’ll be wanting to develop complete, free-standing scripts that have all of the needed libraries and data. Your scripts should stand on their own. One example of this that may seem insignificant is using print() statements instead of just naming the object or variable in the console. While that is common in exploratory work, we need to learn to create free-standing scripts.</p>
<p>However, “free standing” still allows for loading libraries of functions we’ll be using.
We’re still talking about high-level (<em>scripting</em>), not low-level programming, so we can depend on those libraries that any user can access by installing those packages. If we develop our own packages, we just need to provide the user the ability to install those packages.</p>
<p><strong>RStudio projects</strong> are going to be the way we’ll want to work for the rest of this book, so each time we start looking at a new data set, or even create one from scratch, you need to create a project to
go with it, using File/New Project and specify in a new directory (unless you already have data in an existing one), and specifying a location. Most likely the default location to place it in will work but you can change that.</p>
<p>In this book, we’ll be making a lot of use of data provided for you from various data packages such as built-in data, <code>palmerpenguins</code> <span class="citation">(<a href="references.html#ref-palmer" role="doc-biblioref">Horst, Hill, and Gorman 2020</a>)</span>, or <code>iGIScData</code>, but they correspond to specific research projects, such as Sierra Climate to which several data frames and spatial data apply. <em>You should create a</em> <strong><code>sierra</code></strong> <em>project for those problems</em> and return to it every time it applies. We’ll try to include a reminder about using a particular project.</p>
<p>In that project, you’ll build a series of scripts, many of which you’ll re-use to develop new methods. When you’re working on your own project with your own data, which you should store in a <strong><code>data</code></strong> folder inside the project folder. <em>All paths are local, and the default working directory is the project folder, so you can specify</em> <strong><code>"data/mydata.csv"</code></strong> <em>as the path</em> to a csv of that name.</p>
<p><em>It’s very important to get used to working this way, so start now.</em></p>
<div id="subsetting-with-logic" class="section level3" number="2.7.1">
<h3><span class="header-section-number">2.7.1</span> Subsetting with logic</h3>
<p>We’ll use a package that includes data from
<em>Introduction to Data Science</em> <span class="citation">(<a href="references.html#ref-irizarry2019introduction" role="doc-biblioref">Irizarry 2019</a>)</span> section 2.13.1.</p>
<p>Identify all states with murder rates ≤ that of Italy. [Start by creating a <strong>new <code>murders</code> project</strong>.]</p>
<div class="sourceCode" id="cb162"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb162-1"><a href="introduction-to-r.html#cb162-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dslabs)</span>
<span id="cb162-2"><a href="introduction-to-r.html#cb162-2" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(murders)</span>
<span id="cb162-3"><a href="introduction-to-r.html#cb162-3" aria-hidden="true" tabindex="-1"></a>murder_rate <span class="ot">&lt;-</span> murders<span class="sc">$</span>total <span class="sc">/</span> murders<span class="sc">$</span>population <span class="sc">*</span> <span class="dv">100000</span></span>
<span id="cb162-4"><a href="introduction-to-r.html#cb162-4" aria-hidden="true" tabindex="-1"></a>i <span class="ot">&lt;-</span> murder_rate <span class="sc">&lt;=</span> <span class="fl">0.71</span> </span>
<span id="cb162-5"><a href="introduction-to-r.html#cb162-5" aria-hidden="true" tabindex="-1"></a>murders<span class="sc">$</span>abb[i]</span></code></pre></div>
<pre><code>## [1] &quot;HI&quot; &quot;IA&quot; &quot;NH&quot; &quot;ND&quot; &quot;VT&quot;</code></pre>
<p><strong>which</strong> [in a <strong>new <code>air_quality</code> project</strong>]</p>
<div class="sourceCode" id="cb164"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb164-1"><a href="introduction-to-r.html#cb164-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readr)</span>
<span id="cb164-2"><a href="introduction-to-r.html#cb164-2" aria-hidden="true" tabindex="-1"></a>TRI87 <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;data/TRI_1987_BaySites.csv&quot;</span>)</span>
<span id="cb164-3"><a href="introduction-to-r.html#cb164-3" aria-hidden="true" tabindex="-1"></a>i <span class="ot">&lt;-</span> <span class="fu">which</span>(TRI87<span class="sc">$</span>air_releases <span class="sc">&gt;</span> <span class="fl">1e6</span>)</span>
<span id="cb164-4"><a href="introduction-to-r.html#cb164-4" aria-hidden="true" tabindex="-1"></a>TRI87<span class="sc">$</span>FACILITY_NAME[i]</span></code></pre></div>
<pre><code>## [1] &quot;VALERO REFINING CO-CALI FORNIA BENICIA REFINERY&quot;
## [2] &quot;TESLA INC&quot;                                      
## [3] &quot;TESORO REFINING &amp; MARKETING CO LLC&quot;             
## [4] &quot;HGST INC&quot;</code></pre>
<p><strong>%in%</strong></p>
<div class="sourceCode" id="cb166"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb166-1"><a href="introduction-to-r.html#cb166-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readr)</span>
<span id="cb166-2"><a href="introduction-to-r.html#cb166-2" aria-hidden="true" tabindex="-1"></a>csvPath <span class="ot">=</span> <span class="fu">system.file</span>(<span class="st">&quot;extdata&quot;</span>,<span class="st">&quot;TRI_1987_BaySites.csv&quot;</span>, <span class="at">package=</span><span class="st">&quot;iGIScData&quot;</span>)</span>
<span id="cb166-3"><a href="introduction-to-r.html#cb166-3" aria-hidden="true" tabindex="-1"></a>TRI87 <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(csvPath)</span>
<span id="cb166-4"><a href="introduction-to-r.html#cb166-4" aria-hidden="true" tabindex="-1"></a>i <span class="ot">&lt;-</span> TRI87<span class="sc">$</span>COUNTY <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;NAPA&quot;</span>,<span class="st">&quot;SONOMA&quot;</span>)</span>
<span id="cb166-5"><a href="introduction-to-r.html#cb166-5" aria-hidden="true" tabindex="-1"></a>TRI87<span class="sc">$</span>FACILITY_NAME[i]</span></code></pre></div>
<pre><code>## [1] &quot;SAWYER OF NAPA&quot;                               
## [2] &quot;BERINGER VINEYARDS&quot;                           
## [3] &quot;CAL-WOOD DOOR INC&quot;                            
## [4] &quot;SOLA OPTICAL USA INC&quot;                         
## [5] &quot;KEYSIGHT TECHNOLOGIES INC&quot;                    
## [6] &quot;SANTA ROSA STAINLESS STEEL&quot;                   
## [7] &quot;OPTICAL COATING LABORATORY INC&quot;               
## [8] &quot;MGM BRAKES&quot;                                   
## [9] &quot;SEBASTIANI VINEYARDS INC, SONOMA CASK CELLARS&quot;</code></pre>
</div>
<div id="apply-functions" class="section level3" number="2.7.2">
<h3><span class="header-section-number">2.7.2</span> Apply functions</h3>
<p>There are many apply functions in R, and they largely obviate the need for looping. For instance:</p>
<ul>
<li><code>apply</code> derives values at margins of rows and columns, e.g. to sum across rows or down columns [create the following in a <strong>new <code>generic_methods</code> project</strong> which you’ll use for a variety of generic methods]</li>
</ul>
<div class="sourceCode" id="cb168"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb168-1"><a href="introduction-to-r.html#cb168-1" aria-hidden="true" tabindex="-1"></a><span class="co"># matrix apply – the same would apply to data frames</span></span>
<span id="cb168-2"><a href="introduction-to-r.html#cb168-2" aria-hidden="true" tabindex="-1"></a>matrix12 <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">12</span></span>
<span id="cb168-3"><a href="introduction-to-r.html#cb168-3" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(matrix12) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">3</span>,<span class="dv">4</span>)</span>
<span id="cb168-4"><a href="introduction-to-r.html#cb168-4" aria-hidden="true" tabindex="-1"></a>rowsums <span class="ot">&lt;-</span> <span class="fu">apply</span>(matrix12, <span class="dv">1</span>, sum)</span>
<span id="cb168-5"><a href="introduction-to-r.html#cb168-5" aria-hidden="true" tabindex="-1"></a>colsums <span class="ot">&lt;-</span> <span class="fu">apply</span>(matrix12, <span class="dv">2</span>, sum)</span>
<span id="cb168-6"><a href="introduction-to-r.html#cb168-6" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(rowsums)</span></code></pre></div>
<pre><code>## [1] 78</code></pre>
<div class="sourceCode" id="cb170"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb170-1"><a href="introduction-to-r.html#cb170-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(colsums)</span></code></pre></div>
<pre><code>## [1] 78</code></pre>
<div class="sourceCode" id="cb172"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb172-1"><a href="introduction-to-r.html#cb172-1" aria-hidden="true" tabindex="-1"></a>zero <span class="ot">&lt;-</span> <span class="fu">sum</span>(rowsums) <span class="sc">-</span> <span class="fu">sum</span>(colsums)</span>
<span id="cb172-2"><a href="introduction-to-r.html#cb172-2" aria-hidden="true" tabindex="-1"></a>matrix12</span></code></pre></div>
<pre><code>##      [,1] [,2] [,3] [,4]
## [1,]    1    4    7   10
## [2,]    2    5    8   11
## [3,]    3    6    9   12</code></pre>
<p>Apply functions satisfy one of the needs that spreadsheets are used for. Consider how of ten you use sum, mean or similar functions in Excel.</p>
<p><strong><code>sapply</code></strong></p>
<p>sapply applies functions to either:</p>
<ul>
<li>all elements of a vector – unary functions only</li>
</ul>
<div class="sourceCode" id="cb174"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb174-1"><a href="introduction-to-r.html#cb174-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sapply</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">12</span>, sqrt)</span></code></pre></div>
<pre><code>##  [1] 1.000000 1.414214 1.732051 2.000000 2.236068 2.449490 2.645751 2.828427
##  [9] 3.000000 3.162278 3.316625 3.464102</code></pre>
<ul>
<li>or all variables of a data frame (not a matrix), where it works much like a column-based apply (since variables are columns) but more easily interpreted without the need of specifying columns with 2:</li>
</ul>
<div class="sourceCode" id="cb176"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb176-1"><a href="introduction-to-r.html#cb176-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sapply</span>(cars,mean)  <span class="co"># same as apply(cars,2,mean)</span></span></code></pre></div>
<pre><code>## speed  dist 
## 15.40 42.98</code></pre>
<div class="sourceCode" id="cb178"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb178-1"><a href="introduction-to-r.html#cb178-1" aria-hidden="true" tabindex="-1"></a>temp02 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fl">10.7</span>,<span class="fl">9.7</span>,<span class="fl">7.7</span>,<span class="fl">9.2</span>,<span class="fl">7.3</span>,<span class="fl">6.7</span>,<span class="fl">4.0</span>,<span class="fl">5.0</span>,<span class="fl">0.9</span>,<span class="sc">-</span><span class="fl">1.1</span>,<span class="sc">-</span><span class="fl">0.8</span>,<span class="sc">-</span><span class="fl">4.4</span>)</span>
<span id="cb178-2"><a href="introduction-to-r.html#cb178-2" aria-hidden="true" tabindex="-1"></a>temp03 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fl">13.1</span>,<span class="fl">11.4</span>,<span class="fl">9.4</span>,<span class="fl">10.9</span>,<span class="fl">8.9</span>,<span class="fl">8.4</span>,<span class="fl">6.7</span>,<span class="fl">7.6</span>,<span class="fl">2.8</span>,<span class="fl">1.6</span>,<span class="fl">1.2</span>,<span class="sc">-</span><span class="fl">2.1</span>)</span>
<span id="cb178-3"><a href="introduction-to-r.html#cb178-3" aria-hidden="true" tabindex="-1"></a><span class="fu">sapply</span>(<span class="fu">as.data.frame</span>(<span class="fu">cbind</span>(temp02,temp03)),mean) <span class="co"># has to be a data frame</span></span></code></pre></div>
<pre><code>##   temp02   temp03 
## 4.575000 6.658333</code></pre>
<p>While various <code>apply</code> functions are in base R, the purrr package takes these further.<br />
See: <a href="https://github.com/rstudio/cheatsheets/raw/master/purrr.pdf">purrr cheat sheet</a></p>
</div>
</div>
<div id="exercises" class="section level2" number="2.8">
<h2><span class="header-section-number">2.8</span> Exercises</h2>
<ol style="list-style-type: decimal">
<li><p>Assign variables for your name, city, state and zip code, and use <code>paste()</code> to combine them, and assign them to the variable <code>me</code>. What is the class of <code>me</code>? [Do this and the next several problems in your <code>generic_methods</code> project.]</p></li>
<li><p>Knowing that trigonometric functions require angles (including azimuth directions) to be provided in radians, and that degrees can be converted into radians by dividing by 180 and multiplying that by pi, derive the sine of 30 degrees with an R expression. (Base R knows what pi is, so you can just use <code>pi</code>)</p></li>
<li><p>If two sides of a right triangle on a map can be represented as <span class="math inline">\(dX\)</span> and <span class="math inline">\(dY\)</span> and the direct line path between them <span class="math inline">\(c\)</span>, and the coordinates of 2 points on a map might be given as <span class="math inline">\((x1,y1)\)</span> and <span class="math inline">\((x2,y2)\)</span>, with <span class="math inline">\(dX=x2-x1\)</span> and <span class="math inline">\(dY=y2-y1\)</span>, use the Pythagorean theorem to derive the distance between them and assign that expression to <span class="math inline">\(c\)</span>.</p></li>
<li><p>You can create a vector uniform random numbers from 0 to 1 using <code>runif(n=30)</code> where n=30 says to make 30 of them. Use the <code>round()</code> function to round each of the values, and provide what you created and explain what happened.</p></li>
<li><p>Create two vectors of 10 numbers each with the c() function, then assigning to x and y. Then plot(x,y), and provide the three lines of code you used to do the assignment and plot.</p></li>
<li><p>Change your code from #5 so that one value is NA (entered simply as <code>NA</code>, no quotation marks), and derive the mean value for x. Then add <code>,na.rm=T</code> to the parameters for <code>mean()</code>. Also do this for y. Describe your results and explain what happens.</p></li>
<li><p>Create two sequences, <code>a</code> and <code>b</code>, with <code>a</code> all odd numbers from 1 to 99, <code>b</code> all even numbers from 2 to 100. Then derive c through vector division of <code>b/a</code>. Plot a and c together as a scatterplot.</p></li>
<li><p>Build the sierradata data frame [in a <strong><code>sierra</code> project</strong>] from the data at the top of the <strong>Matrices</strong> section, also given here:</p></li>
</ol>
<pre><code>temp &lt;- c(10.7, 9.7, 7.7, 9.2, 7.3, 6.7, 4.0, 5.0, 0.9, -1.1, -0.8, -4.4)
elev &lt;- c(52, 394, 510, 564, 725, 848, 1042, 1225, 1486, 1775, 1899, 2551)
lat &lt;- c(39.52, 38.91, 37.97, 38.70, 39.09, 39.25, 39.94, 37.75, 40.35, 39.33, 39.17, 38.21)</code></pre>
<p>Create a data frame from it using the same steps, and plot temp against latitude.</p>
<ol start="9" style="list-style-type: decimal">
<li><p>From the <code>sierradata</code> matrix built with <code>cbind()</code>, derive colmeans using the <code>mean</code> parameter on the columns <code>2</code> for <code>apply()</code>.</p></li>
<li><p>Do the same thing with the sierra data data frame with <code>sapply()</code>.</p></li>
</ol>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="index.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="data-abstraction.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["EnvDataSci.pdf", "EnvDataSci.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
